{"ast":null,"code":"import React,{useContext,useMemo}from\"react\";import{GlobalStateContext}from\"../../components/Global/GlobalStateContext\";import{useNavigate}from\"react-router-dom\";import Footer from\"../../components/Footer/Footer\";import{ConteinerInput,PageContainer}from\"./styled\";import{useInput}from\"../../hooks/useForm\";import FeedCard from\"../../components/FeedCard/FeedCard\";import{InputAdornment,TextField}from\"@material-ui/core\";import{Search}from\"@material-ui/icons\";import Header from\"../../components/Header/Header\";import{useProtectedPage}from\"../../hooks/useProtectedPage\";var SearchPage=function SearchPage(){useProtectedPage();var _useContext=useContext(GlobalStateContext),states=_useContext.states;var _useInput=useInput({search:\"\"}),input=_useInput.input,onChangeInput=_useInput.onChangeInput;var navigate=useNavigate();var goToRestaurantDetail=function goToRestaurantDetail(id){navigate(\"/restaurante/\".concat(id));};var searchRestaurants=useMemo(function(){var _states$restaurants;var lowerSearch=input.search.toLowerCase();return input.search&&((_states$restaurants=states.restaurants)===null||_states$restaurants===void 0?void 0:_states$restaurants.filter(function(item){return item.name.toLowerCase().includes(lowerSearch);}));},[input.search]);var renderRestaurants=input.search&&searchRestaurants.length>0?searchRestaurants===null||searchRestaurants===void 0?void 0:searchRestaurants.map(function(item,i){return/*#__PURE__*/React.createElement(FeedCard,{key:i,restaurants:item,onClickRestaurant:function onClickRestaurant(){return goToRestaurantDetail(item.id);}});}):input.search&&!searchRestaurants.length&&/*#__PURE__*/React.createElement(\"p\",null,\"N\\xE3o encontramos :(\");return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(PageContainer,null,/*#__PURE__*/React.createElement(ConteinerInput,null,/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",placeholder:'   Restaurantes',type:\"text\",onChange:onChangeInput,value:input.search,name:\"search\",InputProps:{startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(Search,null))}})),/*#__PURE__*/React.createElement(\"div\",null,renderRestaurants?renderRestaurants:/*#__PURE__*/React.createElement(\"p\",null,\"busque por nome de restaurante\"))),/*#__PURE__*/React.createElement(Footer,null));};export default SearchPage;","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/searchPage/SearchPage.js"],"names":["React","useContext","useMemo","GlobalStateContext","useNavigate","Footer","ConteinerInput","PageContainer","useInput","FeedCard","InputAdornment","TextField","Search","Header","useProtectedPage","SearchPage","states","search","input","onChangeInput","navigate","goToRestaurantDetail","id","searchRestaurants","lowerSearch","toLowerCase","restaurants","filter","item","name","includes","renderRestaurants","length","map","i","startAdornment"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,OAA5B,KAA2C,OAA3C,CACA,OAASC,kBAAT,KAAmC,4CAAnC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,OAASC,cAAT,CAAyBC,aAAzB,KAA8C,UAA9C,CACA,OAASC,QAAT,KAAyB,qBAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,oCAArB,CACA,OAASC,cAAT,CAAyBC,SAAzB,KAA0C,mBAA1C,CACA,OAASC,MAAT,KAAuB,oBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,OAASC,gBAAT,KAAiC,8BAAjC,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBD,gBAAgB,GADO,gBAEJb,UAAU,CAACE,kBAAD,CAFN,CAEfa,MAFe,aAEfA,MAFe,eAGUR,QAAQ,CAAC,CAAES,MAAM,CAAE,EAAV,CAAD,CAHlB,CAGfC,KAHe,WAGfA,KAHe,CAGRC,aAHQ,WAGRA,aAHQ,CAIvB,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CAEA,GAAMiB,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,EAAD,CAAQ,CACnCF,QAAQ,wBAAiBE,EAAjB,EAAR,CACD,CAFD,CAIA,GAAMC,CAAAA,iBAAiB,CAAGrB,OAAO,CAAC,UAAM,yBACtC,GAAMsB,CAAAA,WAAW,CAAGN,KAAK,CAACD,MAAN,CAAaQ,WAAb,EAApB,CACA,MACEP,CAAAA,KAAK,CAACD,MAAN,wBACAD,MAAM,CAACU,WADP,8CACA,oBAAoBC,MAApB,CAA2B,SAACC,IAAD,CAAU,CACnC,MAAOA,CAAAA,IAAI,CAACC,IAAL,CAAUJ,WAAV,GAAwBK,QAAxB,CAAiCN,WAAjC,CAAP,CACD,CAFD,CADA,CADF,CAMD,CARgC,CAQ9B,CAACN,KAAK,CAACD,MAAP,CAR8B,CAAjC,CAUA,GAAMc,CAAAA,iBAAiB,CACrBb,KAAK,CAACD,MAAN,EAAgBM,iBAAiB,CAACS,MAAlB,CAA2B,CAA3C,CACIT,iBADJ,SACIA,iBADJ,iBACIA,iBAAiB,CAAEU,GAAnB,CAAuB,SAACL,IAAD,CAAOM,CAAP,CAAa,CAClC,mBACE,oBAAC,QAAD,EACE,GAAG,CAAEA,CADP,CAEE,WAAW,CAAEN,IAFf,CAGE,iBAAiB,CAAE,mCAAMP,CAAAA,oBAAoB,CAACO,IAAI,CAACN,EAAN,CAA1B,EAHrB,EADF,CAOD,CARD,CADJ,CAUIJ,KAAK,CAACD,MAAN,EACA,CAACM,iBAAiB,CAACS,MADnB,eAEE,qDAbR,CAgBA,mBACE,4CACE,oBAAC,MAAD,MADF,cAEE,oBAAC,aAAD,mBACE,oBAAC,cAAD,mBACA,oBAAC,SAAD,EACE,OAAO,CAAC,UADV,CAEE,WAAW,CAAE,iBAFf,CAGE,IAAI,CAAC,MAHP,CAIE,QAAQ,CAAEb,aAJZ,CAKE,KAAK,CAAED,KAAK,CAACD,MALf,CAME,IAAI,CAAE,QANR,CAOE,UAAU,CAAE,CACVkB,cAAc,cACZ,oBAAC,cAAD,EAAgB,QAAQ,CAAC,OAAzB,eACE,oBAAC,MAAD,MADF,CAFQ,CAPd,EADA,CADF,cAkBE,+BACCJ,iBAAiB,CAChBA,iBADgB,cAGhB,8DAJF,CAlBF,CAFF,cA4BE,oBAAC,MAAD,MA5BF,CADF,CAgCD,CApED,CAqEA,cAAehB,CAAAA,UAAf","sourcesContent":["import React, { useContext, useMemo } from \"react\";\nimport { GlobalStateContext } from \"../../components/Global/GlobalStateContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport Footer from \"../../components/Footer/Footer\";\nimport { ConteinerInput, PageContainer } from \"./styled\";\nimport { useInput } from \"../../hooks/useForm\";\nimport FeedCard from \"../../components/FeedCard/FeedCard\";\nimport { InputAdornment, TextField } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport Header from \"../../components/Header/Header\";\nimport { useProtectedPage } from \"../../hooks/useProtectedPage\";\n\nconst SearchPage = () => {\n  useProtectedPage();\n  const { states } = useContext(GlobalStateContext);\n  const { input, onChangeInput } = useInput({ search: \"\" });\n  const navigate = useNavigate();\n  \n  const goToRestaurantDetail = (id) => {\n    navigate(`/restaurante/${id}`);\n  };\n\n  const searchRestaurants = useMemo(() => {\n    const lowerSearch = input.search.toLowerCase();\n    return (\n      input.search &&\n      states.restaurants?.filter((item) => {\n        return item.name.toLowerCase().includes(lowerSearch);\n      })\n    );\n  }, [input.search]);\n\n  const renderRestaurants =\n    input.search && searchRestaurants.length > 0\n      ? searchRestaurants?.map((item, i) => {\n          return (\n            <FeedCard\n              key={i}\n              restaurants={item}\n              onClickRestaurant={() => goToRestaurantDetail(item.id)}\n            />\n          );\n        })\n      : input.search &&\n        !searchRestaurants.length && (\n          <p>NÃ£o encontramos :(</p>\n        );\n\n  return (\n    <div>\n      <Header />\n      <PageContainer>\n        <ConteinerInput>\n        <TextField\n          variant=\"outlined\"\n          placeholder={'   Restaurantes'}\n          type=\"text\"\n          onChange={onChangeInput}\n          value={input.search}\n          name={\"search\"}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <Search />\n              </InputAdornment>\n            ),\n          }}\n        />\n        </ConteinerInput>\n        <div>\n        {renderRestaurants ? (\n          renderRestaurants\n        ) : (\n          <p>busque por nome de restaurante</p>\n        )}\n        </div>\n      </PageContainer>\n      <Footer />\n    </div>\n  );\n};\nexport default SearchPage;\n"]},"metadata":{},"sourceType":"module"}