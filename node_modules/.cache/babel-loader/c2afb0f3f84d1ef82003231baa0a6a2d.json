{"ast":null,"code":"var _jsxFileName = \"/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/loginpage/LoginPage.js\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../constants/urls\";\n\nconst LoginPage = () => {\n  const history = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const onChangeEmail = event => {\n    setEmail(event.target.value);\n  };\n\n  const onChangePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  const onSubmitLogin = () => {\n    console.log(email, password);\n    const body = {\n      email: email,\n      password: password\n    };\n    axios.post(`${BASE_URL}/login`, body).then(response => {\n      console.log('Deu certo:', response.data.token);\n      localStorage.setItem('token', response.data.token);\n      history('/login');\n    }).catch(error => {\n      console.log('Deu errado:', error.response.data.message);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"email\",\n    type: \"email\",\n    value: email,\n    onChange: onChangeEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"senha\",\n    type: \"password\",\n    value: password,\n    onChange: onChangePassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onSubmitLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Entrar\"));\n};\n\nexport default LoginPage;","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/loginpage/LoginPage.js"],"names":["React","useState","useNavigate","axios","BASE_URL","LoginPage","history","email","setEmail","password","setPassword","onChangeEmail","event","target","value","onChangePassword","onSubmitLogin","console","log","body","post","then","response","data","token","localStorage","setItem","catch","error","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,sBAAzB;;AAIA,MAAMC,SAAS,GAAG,MAAM;AACpB,QAAMC,OAAO,GAAGJ,WAAW,EAA3B;AACA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMU,aAAa,GAAIC,KAAD,IAAW;AAC7BJ,IAAAA,QAAQ,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;AACH,GAFD;;AAIA,QAAMC,gBAAgB,GAAIH,KAAD,IAAW;AAChCF,IAAAA,WAAW,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACH,GAFD;;AAIA,QAAME,aAAa,GAAG,MAAM;AACxBC,IAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ,EAAmBE,QAAnB;AACA,UAAMU,IAAI,GAAG;AACTZ,MAAAA,KAAK,EAAEA,KADE;AAETE,MAAAA,QAAQ,EAAEA;AAFD,KAAb;AAIAN,IAAAA,KAAK,CAACiB,IAAN,CAAY,GAAEhB,QAAS,QAAvB,EAAgCe,IAAhC,EACCE,IADD,CACOC,QAAD,IAAc;AACpBL,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBI,QAAQ,CAACC,IAAT,CAAcC,KAAvC;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BJ,QAAQ,CAACC,IAAT,CAAcC,KAA3C;AACIlB,MAAAA,OAAO,CAAC,QAAD,CAAP;AAEH,KAND,EAOCqB,KAPD,CAOQC,KAAD,IAAW;AACdX,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BU,KAAK,CAACN,QAAN,CAAeC,IAAf,CAAoBM,OAA9C;AACH,KATD;AAUH,GAhBD;;AAqBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AACA,IAAA,WAAW,EAAC,OADZ;AAEA,IAAA,IAAI,EAAC,OAFL;AAGA,IAAA,KAAK,EAAEtB,KAHP;AAIA,IAAA,QAAQ,EAAEI,aAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAOI;AACA,IAAA,WAAW,EAAC,OADZ;AAEA,IAAA,IAAI,EAAC,UAFL;AAGA,IAAA,KAAK,EAAEF,QAHP;AAIA,IAAA,QAAQ,EAAEM,gBAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,eAcI;AAAQ,IAAA,OAAO,EAAEC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAdJ,CADJ;AAmBH,CArDD;;AAuDA,eAAeX,SAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../constants/urls\";\n\n\n\nconst LoginPage = () => {\n    const history = useNavigate()\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n\n    const onChangeEmail = (event) => {\n        setEmail(event.target.value)\n    }\n\n    const onChangePassword = (event) => {\n        setPassword(event.target.value)\n    }\n\n    const onSubmitLogin = () => {\n        console.log(email, password)\n        const body = {\n            email: email,\n            password: password\n        }\n        axios.post(`${BASE_URL}/login`, body)\n        .then((response) => {\n        console.log('Deu certo:',response.data.token)\n        localStorage.setItem('token',response.data.token)\n            history('/login')\n\n        })\n        .catch((error) => {\n            console.log('Deu errado:',error.response.data.message)\n        })\n    }   \n\n   \n\n\n    return (\n        <div>\n            <h1>Login</h1>\n            <input\n            placeholder=\"email\"\n            type=\"email\"\n            value={email}\n            onChange={onChangeEmail}            />\n            <input\n            placeholder=\"senha\"\n            type=\"password\"\n            value={password}\n            onChange={onChangePassword}\n            />\n            \n            <button onClick={onSubmitLogin}>Entrar</button>\n            \n        </div>\n    )\n}\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}