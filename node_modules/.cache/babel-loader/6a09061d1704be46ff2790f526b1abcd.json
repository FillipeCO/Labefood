{"ast":null,"code":"var _jsxFileName = \"/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/profilepage/ProfilePage.js\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport { Title, Container, Container2, RegisteredProfile, EditContainer, OrderHistoryContainer, AddressContainer, PageContainer, OrderHistoryTitleContainer } from \"./styled\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { goToEditProfile, goToEditAddress } from \"../../router/Coordinator\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getProfile, handleLogin, getOrderHistory } from \"../../axiosRequests/user\";\nimport Footer from \"../../components/Footer/Footer\";\nimport useForm from \"../../hooks/useForm\";\nimport Header from \"../../components/Header/Header\";\nimport { useProtectedPage } from \"../../hooks/useProtectedPage\";\n\nconst ProfilePage = () => {\n  useProtectedPage();\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState({});\n  const [orderHistory, setOrderHistory] = useState([]);\n  useEffect(() => {\n    getProfile(setProfile);\n    getOrderHistory(setOrderHistory);\n  }, []);\n\n  const formatDateToLocalDate = date => {\n    const dateUTC = new Date(date);\n    return dateUTC.toLocaleDateString();\n  };\n\n  const formatDateToLocalTime = date => {\n    const dateUTC = new Date(date);\n    return dateUTC.toLocaleTimeString();\n  };\n\n  const renderAddress = profile.address ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AddressContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Endere\\xE7o cadastrado:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, profile.address)), /*#__PURE__*/React.createElement(EditContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CreateIcon, {\n    onClick: () => goToEditAddress(navigate),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }))) : /*#__PURE__*/React.createElement(AddressContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Favor cadastrar um endere\\xE7oclicando\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    onClick: () => navigate(\"/endereco\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"aqui.\")));\n  return console.log(orderHistory), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(PageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(RegisteredProfile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, profile.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, profile.email), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, profile.cpf)), /*#__PURE__*/React.createElement(EditContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CreateIcon, {\n    onClick: () => goToEditProfile(navigate),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Container2, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, renderAddress), /*#__PURE__*/React.createElement(OrderHistoryTitleContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Hist\\xF3rico de pedidos\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }), orderHistory.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, orderHistory.map(order => {\n    return /*#__PURE__*/React.createElement(OrderHistoryContainer, {\n      key: order.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 23\n      }\n    }, order.restaurantName), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 23\n      }\n    }, formatDateToLocalDate(order.createdAt), \",\", \" \", formatDateToLocalTime(order.createdAt)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 23\n      }\n    }, \"SUBTOTAL: R$\", order.totalPrice));\n  })) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"Nenhum pedido realizado\"))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default ProfilePage;","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/profilepage/ProfilePage.js"],"names":["CreateIcon","Title","Container","Container2","RegisteredProfile","EditContainer","OrderHistoryContainer","AddressContainer","PageContainer","OrderHistoryTitleContainer","React","useEffect","useState","axios","goToEditProfile","goToEditAddress","useNavigate","getProfile","handleLogin","getOrderHistory","Footer","useForm","Header","useProtectedPage","ProfilePage","navigate","profile","setProfile","orderHistory","setOrderHistory","formatDateToLocalDate","date","dateUTC","Date","toLocaleDateString","formatDateToLocalTime","toLocaleTimeString","renderAddress","address","console","log","name","email","cpf","length","map","order","id","restaurantName","createdAt","totalPrice"],"mappings":"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","sourcesContent":["import CreateIcon from \"@material-ui/icons/Create\";\nimport {\n  Title,\n  Container,\n  Container2,\n  RegisteredProfile,\n  EditContainer,\n  OrderHistoryContainer,\n  AddressContainer,\n  PageContainer,\n  OrderHistoryTitleContainer,\n} from \"./styled\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { goToEditProfile, goToEditAddress } from \"../../router/Coordinator\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  getProfile,\n  handleLogin,\n  getOrderHistory,\n} from \"../../axiosRequests/user\";\nimport Footer from \"../../components/Footer/Footer\";\nimport useForm from \"../../hooks/useForm\";\nimport Header from \"../../components/Header/Header\";\nimport { useProtectedPage } from \"../../hooks/useProtectedPage\";\n\nconst ProfilePage = () => {\n  useProtectedPage();\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState({});\n  const [orderHistory, setOrderHistory] = useState([]);\n\n  useEffect(() => {\n    getProfile(setProfile);\n    getOrderHistory(setOrderHistory);\n  }, []);\n\n  const formatDateToLocalDate = (date) => {\n    const dateUTC = new Date(date);\n    return dateUTC.toLocaleDateString();\n  };\n\n  const formatDateToLocalTime = (date) => {\n    const dateUTC = new Date(date);\n    return dateUTC.toLocaleTimeString();\n  };\n\n  const renderAddress = profile.address ? (\n    <>\n      <AddressContainer>\n        <p>Endereço cadastrado:</p>\n        <p>{profile.address}</p>\n      </AddressContainer>\n      <EditContainer>\n        <CreateIcon onClick={() => goToEditAddress(navigate)} />\n      </EditContainer>\n    </>\n  ) : (\n    <AddressContainer>\n      <p>\n        Favor cadastrar um endereçoclicando{\" \"}\n        <strong onClick={() => navigate(\"/endereco\")}>aqui.</strong>\n      </p>\n    </AddressContainer>\n  );\n\n  return (\n    console.log(orderHistory),\n    (\n      <>\n        <Header />\n        <PageContainer>\n          <Container>\n            <RegisteredProfile>\n              <p>{profile.name}</p>\n              <p>{profile.email}</p>\n              <p>{profile.cpf}</p>\n            </RegisteredProfile>\n            <EditContainer>\n              <CreateIcon onClick={() => goToEditProfile(navigate)} />\n            </EditContainer>\n          </Container>\n\n          <Container2>{renderAddress}</Container2>\n\n          <OrderHistoryTitleContainer>\n            <p>Histórico de pedidos</p>\n            <hr />\n\n            {orderHistory.length > 0 ? (\n              <div>\n                {orderHistory.map((order) => {\n                  return (\n                    <OrderHistoryContainer key={order.id}>\n                      <p>{order.restaurantName}</p>\n                      <span>\n                        {formatDateToLocalDate(order.createdAt)},{\" \"}\n                        {formatDateToLocalTime(order.createdAt)}\n                      </span>\n                      <br />\n                      <strong>SUBTOTAL: R${order.totalPrice}</strong>\n                    </OrderHistoryContainer>\n                  );\n                })}\n              </div>\n            ) : (\n              <p>Nenhum pedido realizado</p>\n            )}\n          </OrderHistoryTitleContainer>\n        </PageContainer>\n\n        <Footer />\n      </>\n    )\n  );\n};\n\nexport default ProfilePage;\n"]},"metadata":{},"sourceType":"module"}