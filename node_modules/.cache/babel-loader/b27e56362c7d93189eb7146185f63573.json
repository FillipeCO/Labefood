{"ast":null,"code":"var _jsxFileName = \"/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/cartpage/CartPage.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport { useEffect, useState, useContext, createContext } from \"react\";\nimport Footer from \"../../components/Footer/Footer\";\nimport Header from \"../../components/Header/Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AddressContainer, RestaurantContainer, AdressDelivery, AdressContainer, CartContainer, Title, ShippingText, SubtotalPrice, TotalPrice, PaymentMethodText, ProductContainer, ProductImageContainer, ProductInfoContainer, QuantityContainer, ProductInfo, RemoveButtonContainer, RemoveButton, ButtonContainer, PaymentContainer, Quantity, CheckBox } from \"./styled\";\nimport { getProfile, getDetailRestaurant } from \"../../axiosRequests/user\";\nimport { GlobalStateContext } from \"../../components/Global/GlobalStateContext\";\nimport { FormControl, FormControlLabel, Radio, RadioGroup } from \"@material-ui/core\";\nimport CardFood from \"../../components/CardFood/CardFood\";\nimport { Button, Checkbox } from \"@material-ui/core\";\nimport { RestaurantMenu } from \"@material-ui/icons\";\n\nconst CartPage = () => {\n  const [address, setAddress] = useState({});\n  const {\n    states,\n    sets\n  } = useContext(GlobalStateContext);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [product, setProduct] = useState([]);\n  const [payment, setPayment] = useState(\"\");\n  const [shipping, setShipping] = useState([]);\n  const navigate = useNavigate();\n  const [restaurant, setRestaurant] = useState([]);\n\n  const getDetailRestaurant = () => {\n    const headers = {\n      headers: {\n        Auth: localStorage.getItem(\"token\")\n      }\n    };\n    axios.get(`${BASE_URL}/restaurants/`, headers).then(res => {\n      setRestaurant([res.data.restaurant]);\n      console.log(\"RES DATA:\", res.data.restaurant);\n    }).catch(err => {\n      console.log(err.response);\n    });\n  };\n\n  const removeItem = item => {\n    const newArray = product.filter(pdt => {\n      return pdt.id !== item.id;\n    });\n    setProduct(newArray);\n  };\n\n  useEffect(() => {\n    getProfile(setAddress);\n    getDetailRestaurant(states.cart.idRestaurant, setRestaurant);\n  }, []);\n  const renderAddress = address.address ? /*#__PURE__*/React.createElement(AddressContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, \"Endere\\xE7o de entrega:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, address.address)) : /*#__PURE__*/React.createElement(AdressContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"Favor cadastrar um endere\\xE7oclicando\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    onClick: () => navigate(\"/endereco\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"aqui.\")));\n  const renderRestaurant = restaurant ? /*#__PURE__*/React.createElement(RestaurantContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, restaurant.map(restaurant => /*#__PURE__*/React.createElement(RestaurantContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, restaurant.name), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, \"Restaurant Address\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, \"Delivery time\")))) : /*#__PURE__*/React.createElement(RestaurantContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"N\\xE3o h\\xE1 itens no carrinho :/ \"));\n  return console.log(\"CARRINHO\", states.cart), console.log(\"RESTAURANTE\", restaurant), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CartContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, renderAddress, renderRestaurant, states.cart.map(item => {\n    return /*#__PURE__*/React.createElement(ProductContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ProductImageContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.photoUrl,\n      alt: \"product Img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(ProductInfoContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(QuantityContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Quantity, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, item.quantity)), /*#__PURE__*/React.createElement(ProductInfo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, item.description), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, \"R$\", item.price)), /*#__PURE__*/React.createElement(RemoveButtonContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(RemoveButton, {\n      onClick: () => removeItem(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, \"remover\"))));\n  }), /*#__PURE__*/React.createElement(ShippingText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, \"Frete:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, shipping)), /*#__PURE__*/React.createElement(SubtotalPrice, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, \"Subtotal:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, states.cart.reduce((frete, pdt) => {\n    return pdt.price * pdt.quantity + frete;\n  }, 0))), /*#__PURE__*/React.createElement(PaymentContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, \"Forma de pagamento\"), /*#__PURE__*/React.createElement(FormControl, {\n    component: \"fieldset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(RadioGroup, {\n    \"aria-label\": \"payment\",\n    name: \"payment\",\n    value: payment,\n    onChange: e => setPayment(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"dinheiro\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 28\n      }\n    }),\n    label: \"Dinheiro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    value: \"cartao\",\n    control: /*#__PURE__*/React.createElement(Radio, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 28\n      }\n    }),\n    label: \"Cart\\xE3o\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(ButtonContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    fullWidth: true,\n    style: {\n      margin: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, \"Confirmar\"))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default CartPage;","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/cartpage/CartPage.js"],"names":["React","axios","BASE_URL","useEffect","useState","useContext","createContext","Footer","Header","useNavigate","AddressContainer","RestaurantContainer","AdressDelivery","AdressContainer","CartContainer","Title","ShippingText","SubtotalPrice","TotalPrice","PaymentMethodText","ProductContainer","ProductImageContainer","ProductInfoContainer","QuantityContainer","ProductInfo","RemoveButtonContainer","RemoveButton","ButtonContainer","PaymentContainer","Quantity","CheckBox","getProfile","getDetailRestaurant","GlobalStateContext","FormControl","FormControlLabel","Radio","RadioGroup","CardFood","Button","Checkbox","RestaurantMenu","CartPage","address","setAddress","states","sets","totalPrice","setTotalPrice","product","setProduct","payment","setPayment","shipping","setShipping","navigate","restaurant","setRestaurant","headers","Auth","localStorage","getItem","get","then","res","data","console","log","catch","err","response","removeItem","item","newArray","filter","pdt","id","cart","idRestaurant","renderAddress","renderRestaurant","map","name","photoUrl","quantity","description","price","reduce","frete","e","target","value","margin"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport { useEffect, useState, useContext, createContext } from \"react\";\nimport Footer from \"../../components/Footer/Footer\";\nimport Header from \"../../components/Header/Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  AddressContainer,\n  RestaurantContainer,\n  AdressDelivery,\n  AdressContainer,\n  CartContainer,\n  Title,\n  ShippingText,\n  SubtotalPrice,\n  TotalPrice,\n  PaymentMethodText,\n  ProductContainer,\n  ProductImageContainer,\n  ProductInfoContainer,\n  QuantityContainer,\n  ProductInfo,\n  RemoveButtonContainer,\n  RemoveButton,\n  ButtonContainer,\n  PaymentContainer,\n  Quantity,\n  CheckBox,\n} from \"./styled\";\nimport { getProfile, getDetailRestaurant } from \"../../axiosRequests/user\";\nimport { GlobalStateContext } from \"../../components/Global/GlobalStateContext\";\nimport {\n  FormControl,\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n} from \"@material-ui/core\";\nimport CardFood from \"../../components/CardFood/CardFood\";\nimport { Button, Checkbox } from \"@material-ui/core\";\nimport { RestaurantMenu } from \"@material-ui/icons\";\n\nconst CartPage = () => {\n  const [address, setAddress] = useState({});\n  const { states, sets } = useContext(GlobalStateContext);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [product, setProduct] = useState([]);\n  const [payment, setPayment] = useState(\"\");\n  const [shipping, setShipping] = useState([]);\n  const navigate = useNavigate();\n  const [restaurant, setRestaurant] = useState([]);\n\n  const getDetailRestaurant = () => {\n    const headers = {\n      headers: {\n        Auth: localStorage.getItem(\"token\"),\n      },\n    };\n    axios\n      .get(`${BASE_URL}/restaurants/`, headers)\n      .then((res) => {\n        setRestaurant([res.data.restaurant]);\n        console.log(\"RES DATA:\", res.data.restaurant);\n        })\n      .catch((err) => {\n        console.log(err.response);\n      });\n  };\n\n  const removeItem = (item) => {\n    const newArray = product.filter((pdt) => {\n      return pdt.id !== item.id;\n    });\n    setProduct(newArray);\n  };\n\n  useEffect(() => {\n    getProfile(setAddress);\n    getDetailRestaurant(states.cart.idRestaurant, setRestaurant);\n  }, []);\n\n  const renderAddress = address.address ? (\n    <AddressContainer>\n      <p>Endereço de entrega:</p>\n      <span>{address.address}</span>\n    </AddressContainer>\n  ) : (\n    <AdressContainer>\n      <p>\n        Favor cadastrar um endereçoclicando{\" \"}\n        <strong onClick={() => navigate(\"/endereco\")}>aqui.</strong>\n      </p>\n    </AdressContainer>\n  );\n\n  const renderRestaurant = restaurant ? (\n    <RestaurantContainer>\n        {restaurant.map((restaurant) => (\n            <RestaurantContainer>\n              <p>{restaurant.name}</p>\n              <span>Restaurant Address</span>\n              <span>Delivery time</span>\n            </RestaurantContainer>\n          ))}\n    </RestaurantContainer>\n    ) : (\n    <RestaurantContainer>\n        <p>\n            Não há itens no carrinho :/ </p>\n    </RestaurantContainer>\n    );\n\n  return (\n    console.log(\"CARRINHO\", states.cart),\n    console.log(\"RESTAURANTE\", restaurant),\n    (\n      <>\n        <Header />\n        <CartContainer>\n          {renderAddress}\n\n          {renderRestaurant}\n\n          {states.cart.map((item) => {\n            return (\n              <ProductContainer>\n                <ProductImageContainer>\n                  <img src={item.photoUrl} alt=\"product Img\" />\n                </ProductImageContainer>\n                <ProductInfoContainer>\n                  <QuantityContainer>\n                    <Quantity>{item.quantity}</Quantity>\n                  </QuantityContainer>\n                  <ProductInfo>\n                    <p>{item.name}</p>\n                    <span>{item.description}</span>\n                    <strong>R${item.price}</strong>\n                  </ProductInfo>\n                  <RemoveButtonContainer>\n                    <RemoveButton onClick={() => removeItem(item)}>\n                      remover\n                    </RemoveButton>\n                  </RemoveButtonContainer>\n                </ProductInfoContainer>\n              </ProductContainer>\n            );\n          })}\n\n          <ShippingText>\n            <p>Frete:</p>\n            <p>{shipping}</p>\n          </ShippingText>\n\n          <SubtotalPrice>\n            <p>Subtotal:</p>\n            <p>\n              {states.cart.reduce((frete, pdt) => {\n                return pdt.price * pdt.quantity + frete;\n              }, 0)}\n            </p>\n          </SubtotalPrice>\n\n          <PaymentContainer>\n            <p>Forma de pagamento</p>\n            <FormControl component=\"fieldset\">\n              <RadioGroup\n                aria-label=\"payment\"\n                name=\"payment\"\n                value={payment}\n                onChange={(e) => setPayment(e.target.value)}\n              >\n                <FormControlLabel\n                  value=\"dinheiro\"\n                  control={<Radio />}\n                  label=\"Dinheiro\"\n                />\n                <FormControlLabel\n                  value=\"cartao\"\n                  control={<Radio />}\n                  label=\"Cartão\"\n                />\n              </RadioGroup>\n            </FormControl>\n          </PaymentContainer>\n\n          <ButtonContainer>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              fullWidth\n              style={{ margin: \"10px\" }}\n            >\n              Confirmar\n            </Button>\n          </ButtonContainer>\n        </CartContainer>\n        <Footer />\n      </>\n    )\n  );\n};\n\nexport default CartPage;\n"]},"metadata":{},"sourceType":"module"}