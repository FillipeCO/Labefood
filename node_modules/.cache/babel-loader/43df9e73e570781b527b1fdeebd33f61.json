{"ast":null,"code":"import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { getAuthToken } from \"../constants/token\";\nexport function useRequestData(url) {\n  const [data, setData] = useState(undefined);\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    getData(url);\n  }, [url]);\n\n  const getData = url => {\n    setLoading(true);\n    axios.get(url, {\n      headers: {\n        auth: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkEwMDVtSEJmeVNrdDdPTjBITGFwIiwibmFtZSI6ImFzdHJvZGV2MiIsImVtYWlsIjoiYXN0cm9kZXZAZnV0dXJlNC5jb20iLCJjcGYiOiIwMDg5NTU5OTk5OSIsImhhc0FkZHJlc3MiOnRydWUsImFkZHJlc3MiOiJSdWEgQmFuYW5hcywgMiAtIEJhbmFuYWwiLCJpYXQiOjE2NDczNjczMTV9.kMEJC9zIPFoT8LbSGTVyGQ4rJbJOuEQKze9w-28qKJU\" //auth: getAuthToken()\n        // auth: window.localStorage.getItem(\"token\")\n\n      }\n    }).then(res => {\n      setData(res.data);\n      setLoading(false);\n    }).catch(error => {\n      setError(error);\n      setLoading(false);\n    });\n  };\n\n  return [data, isLoading, error, getData];\n}\n;","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/hooks/useRequestData.js"],"names":["useEffect","useState","axios","getAuthToken","useRequestData","url","data","setData","undefined","isLoading","setLoading","error","setError","getData","get","headers","auth","then","res","catch"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,oBAA7B;AAEA,OAAO,SAASC,cAAT,CAAwBC,GAAxB,EAA6B;AAClC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAACO,SAAD,CAAhC;AACA,QAAM,CAACC,SAAD,EAAYC,UAAZ,IAA0BT,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,OAAO,CAACR,GAAD,CAAP;AACC,GAFM,EAEL,CAACA,GAAD,CAFK,CAAT;;AAKA,QAAMQ,OAAO,GAAIR,GAAD,IAAS;AAEvBK,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAR,IAAAA,KAAK,CACFY,GADH,CACOT,GADP,EACY;AACNU,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAE,uTADC,CAEL;AACF;;AAHO;AADH,KADZ,EAQGC,IARH,CAQSC,GAAD,IAAS;AACbX,MAAAA,OAAO,CAACW,GAAG,CAACZ,IAAL,CAAP;AACAI,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAXH,EAYGS,KAZH,CAYUR,KAAD,IAAW;AAChBC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACAD,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAfH;AAgBD,GAnBD;;AAqBA,SAAO,CAACJ,IAAD,EAAOG,SAAP,EAAkBE,KAAlB,EAAyBE,OAAzB,CAAP;AACD;AAAA","sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { getAuthToken } from \"../constants/token\";\n\nexport function useRequestData(url) {\n  const [data, setData] = useState(undefined);\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n \n  useEffect(() => {\n    getData(url);\n    },[url]);\n\n\n  const getData = (url) => {\n\n    setLoading(true);\n    axios\n      .get(url, {\n          headers: {\n            auth: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkEwMDVtSEJmeVNrdDdPTjBITGFwIiwibmFtZSI6ImFzdHJvZGV2MiIsImVtYWlsIjoiYXN0cm9kZXZAZnV0dXJlNC5jb20iLCJjcGYiOiIwMDg5NTU5OTk5OSIsImhhc0FkZHJlc3MiOnRydWUsImFkZHJlc3MiOiJSdWEgQmFuYW5hcywgMiAtIEJhbmFuYWwiLCJpYXQiOjE2NDczNjczMTV9.kMEJC9zIPFoT8LbSGTVyGQ4rJbJOuEQKze9w-28qKJU\"\n              //auth: getAuthToken()\n            // auth: window.localStorage.getItem(\"token\")\n          }\n      })\n      .then((res) => {\n        setData(res.data);\n        setLoading(false);\n      })\n      .catch((error) => {\n        setError(error);\n        setLoading(false);\n      });\n  };\n\n  return [data, isLoading, error, getData];\n};"]},"metadata":{},"sourceType":"module"}