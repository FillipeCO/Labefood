{"ast":null,"code":"import _toConsumableArray from\"/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{GlobalStateContext}from\"./GlobalStateContext\";import{BASE_URL}from\"../../constants/urls\";import axios from\"axios\";export var GlobalState=function GlobalState(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),restaurants=_useState2[0],setRestaurants=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openModal=_useState6[0],setOpenModal=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cart=_useState8[0],setCart=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),filteredRestaurants=_useState10[0],setFilteredRestaurants=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),restaurantId=_useState12[0],setRestaurantId=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),orderStatus=_useState14[0],setOrderStatus=_useState14[1];useEffect(function(){pegarRestaurants();},[]);useEffect(function(){pegarProducts();},[restaurants]);var pegarProducts=function pegarProducts(){var newList=[];restaurants.forEach(function(p){axios.get(\"\".concat(BASE_URL,\"/restaurants/\").concat(p.id),{headers:{Auth:\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkEwMDVtSEJmeVNrdDdPTjBITGFwIiwibmFtZSI6IkFzdHJvZGV2IiwiZW1haWwiOiJhc3Ryb2RldkBmdXR1cmU0LmNvbSIsImNwZiI6IjMzMy44ODguNjY2LTQ0IiwiaGFzQWRkcmVzcyI6dHJ1ZSwiYWRkcmVzcyI6IkJhbmFuaW5oYSwgOTgsIDY1IC0gQmFuYW5pbmhhIiwiaWF0IjoxNjQ3MjgxODYwfQ.v_AQdOG33NHtcXjizcAM6QR0qj-SCrtHx5VT0xM2XcE\"}}).then(function(res){newList.push(res.data.restaurant.products);if(newList.length===10){var orderedList=newList.sort(function(a,b){return a.id-b.id;});setProducts(orderedList);}}).catch(function(error){return console.log(error.message);});});};var pegarRestaurants=function pegarRestaurants(){axios.get(\"\".concat(BASE_URL,\"/restaurants\"),{headers:{Auth:\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkEwMDVtSEJmeVNrdDdPTjBITGFwIiwibmFtZSI6IkFzdHJvZGV2IiwiZW1haWwiOiJhc3Ryb2RldkBmdXR1cmU0LmNvbSIsImNwZiI6IjMzMy44ODguNjY2LTQ0IiwiaGFzQWRkcmVzcyI6dHJ1ZSwiYWRkcmVzcyI6IkJhbmFuaW5oYSwgOTgsIDY1IC0gQmFuYW5pbmhhIiwiaWF0IjoxNjQ3MjgxODYwfQ.v_AQdOG33NHtcXjizcAM6QR0qj-SCrtHx5VT0xM2XcE\"}}).then(function(_ref){var data=_ref.data;setFilteredRestaurants(data.restaurants);var newRestaurants=[];data.restaurants.forEach(function(p){return newRestaurants.push(p);});setRestaurants(function(oldRestaurants){return[].concat(_toConsumableArray(oldRestaurants),newRestaurants);});});};var states={openModal:openModal,products:products,restaurants:restaurants,cart:cart,restaurantId:restaurantId,filteredRestaurants:filteredRestaurants,orderStatus:orderStatus};var sets={setOpenModal:setOpenModal,setProducts:setProducts,setRestaurants:setRestaurants,setCart:setCart,setRestaurantId:setRestaurantId,setFilteredRestaurants:setFilteredRestaurants,setOrderStatus:setOrderStatus};return/*#__PURE__*/React.createElement(GlobalStateContext.Provider,{value:{states:states,sets:sets}},props.children);};export default GlobalState;// address:\n// category:\n// deliveryTime:\n// description:\n// id:\n// logoUrl:\n// name:\n// shipping:","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/components/Global/GlobalState.js"],"names":["React","useEffect","useState","GlobalStateContext","BASE_URL","axios","GlobalState","props","restaurants","setRestaurants","products","setProducts","openModal","setOpenModal","cart","setCart","filteredRestaurants","setFilteredRestaurants","restaurantId","setRestaurantId","orderStatus","setOrderStatus","pegarRestaurants","pegarProducts","newList","forEach","p","get","id","headers","Auth","then","res","push","data","restaurant","length","orderedList","sort","a","b","catch","error","console","log","message","newRestaurants","oldRestaurants","states","sets","children"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { GlobalStateContext } from \"./GlobalStateContext\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport axios from \"axios\";\n\nexport const GlobalState = (props) => {\n  const [restaurants, setRestaurants] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [openModal, setOpenModal] = useState(false)\n  const [cart, setCart] = useState([])\n  const [filteredRestaurants, setFilteredRestaurants] = useState([]);\n  const [restaurantId, setRestaurantId] = useState(\"\")\n  const [orderStatus , setOrderStatus] = useState([])\n\n\n  useEffect(() => {\n    pegarRestaurants();\n  }, []);\n  useEffect(() => {\n    pegarProducts();\n  }, [restaurants]);\n\n\n  const pegarProducts = () => {\n    const newList = [];\n    restaurants.forEach((p) => {\n      axios\n        .get(`${BASE_URL}/restaurants/${p.id}`, {\n          headers: {\n            Auth: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkEwMDVtSEJmeVNrdDdPTjBITGFwIiwibmFtZSI6IkFzdHJvZGV2IiwiZW1haWwiOiJhc3Ryb2RldkBmdXR1cmU0LmNvbSIsImNwZiI6IjMzMy44ODguNjY2LTQ0IiwiaGFzQWRkcmVzcyI6dHJ1ZSwiYWRkcmVzcyI6IkJhbmFuaW5oYSwgOTgsIDY1IC0gQmFuYW5pbmhhIiwiaWF0IjoxNjQ3MjgxODYwfQ.v_AQdOG33NHtcXjizcAM6QR0qj-SCrtHx5VT0xM2XcE\",\n          },\n        })\n        .then((res) => {\n          newList.push(res.data.restaurant.products);\n          if (newList.length === 10) {\n            const orderedList = newList.sort((a, b) => {\n              return a.id - b.id;\n            });\n            setProducts(orderedList);\n            \n          }\n        })\n        .catch((error) => console.log(error.message));\n    });\n  };\n\n  const pegarRestaurants = () => {\n    axios\n      .get(`${BASE_URL}/restaurants`, {\n        headers: {\n          Auth: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkEwMDVtSEJmeVNrdDdPTjBITGFwIiwibmFtZSI6IkFzdHJvZGV2IiwiZW1haWwiOiJhc3Ryb2RldkBmdXR1cmU0LmNvbSIsImNwZiI6IjMzMy44ODguNjY2LTQ0IiwiaGFzQWRkcmVzcyI6dHJ1ZSwiYWRkcmVzcyI6IkJhbmFuaW5oYSwgOTgsIDY1IC0gQmFuYW5pbmhhIiwiaWF0IjoxNjQ3MjgxODYwfQ.v_AQdOG33NHtcXjizcAM6QR0qj-SCrtHx5VT0xM2XcE\",\n        },\n      })\n      .then(({ data }) => {\n        setFilteredRestaurants(data.restaurants);\n        const newRestaurants = [];\n        data.restaurants.forEach((p) => newRestaurants.push(p));\n        setRestaurants((oldRestaurants) => [\n          ...oldRestaurants,\n          ...newRestaurants,\n        ]);\n      });\n  };\n\n  const states = {openModal, products, restaurants, cart, restaurantId, filteredRestaurants, orderStatus}\n  const sets = {setOpenModal, setProducts, setRestaurants, setCart, setRestaurantId, setFilteredRestaurants, setOrderStatus}\n\n  return (\n    <GlobalStateContext.Provider value={{ states, sets }}>\n      {props.children}\n    </GlobalStateContext.Provider>\n  );\n};\n\nexport default GlobalState;\n// address:\n// category:\n// deliveryTime:\n// description:\n// id:\n// logoUrl:\n// name:\n// shipping:\n"]},"metadata":{},"sourceType":"module"}