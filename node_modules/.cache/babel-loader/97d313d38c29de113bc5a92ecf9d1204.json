{"ast":null,"code":"var _jsxFileName = \"/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/profilepage/ProfilePage.js\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport { Title, Container, Container2, RegisteredProfile, EditContainer, OrderHistoryContainer, AddressContainer, PageContainer, OrderHistoryTitleContainer } from \"./styled\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { goToEditProfile, goToEditAddress } from \"../../router/Coordinator\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getProfile, handleLogin, getOrderHistory } from \"../../axiosRequests/user\";\nimport Footer from \"../../components/Footer/Footer\";\nimport useForm from \"../../hooks/useForm\";\nimport Header from \"../../components/Header/Header\";\n\nconst ProfilePage = () => {\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState({});\n  const [orderHistory, setOrderHistory] = useState([]);\n  useEffect(() => {\n    getProfile(setProfile);\n    getOrderHistory(setOrderHistory);\n  }, []);\n\n  const formatDateToLocalDate = date => {\n    const dateUTC = new Date(date);\n    return dateUTC.toLocaleDateString();\n  };\n\n  const formatDateToLocalTime = date => {\n    const dateUTC = new Date(date);\n    return dateUTC.toLocaleTimeString();\n  };\n\n  const renderAddress = profile.address ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AddressContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Endere\\xE7o cadastrado:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, profile.address)), /*#__PURE__*/React.createElement(EditContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CreateIcon, {\n    onClick: () => goToEditAddress(navigate),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }))) : /*#__PURE__*/React.createElement(AddressContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Favor cadastrar um endere\\xE7oclicando\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    onClick: () => navigate(\"/endereco\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"aqui.\")));\n  return console.log(orderHistory), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(PageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RegisteredProfile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, profile.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, profile.email), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, profile.cpf)), /*#__PURE__*/React.createElement(EditContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CreateIcon, {\n    onClick: () => goToEditProfile(navigate),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Container2, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, renderAddress), /*#__PURE__*/React.createElement(OrderHistoryTitleContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Hist\\xF3rico de pedidos\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), orderHistory.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(OrderHistoryContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, orderHistory.map(order => /*#__PURE__*/React.createElement(\"div\", {\n    key: order.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 19\n    }\n  }, order.restaurantName), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, formatDateToLocalDate(order.createdAt), \", \", formatDateToLocalTime(order.createdAt)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, \"SUBTOTAL: R$\", order.totalPrice))))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, \"Nenhum pedido realizado\"))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ProfilePage;","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/profilepage/ProfilePage.js"],"names":["CreateIcon","Title","Container","Container2","RegisteredProfile","EditContainer","OrderHistoryContainer","AddressContainer","PageContainer","OrderHistoryTitleContainer","React","useEffect","useState","axios","goToEditProfile","goToEditAddress","useNavigate","getProfile","handleLogin","getOrderHistory","Footer","useForm","Header","ProfilePage","navigate","profile","setProfile","orderHistory","setOrderHistory","formatDateToLocalDate","date","dateUTC","Date","toLocaleDateString","formatDateToLocalTime","toLocaleTimeString","renderAddress","address","console","log","name","email","cpf","length","map","order","id","restaurantName","createdAt","totalPrice"],"mappings":"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","sourcesContent":["import CreateIcon from \"@material-ui/icons/Create\";\nimport {\n  Title,\n  Container,\n  Container2,\n  RegisteredProfile,\n  EditContainer,\n  OrderHistoryContainer,\n  AddressContainer,\n  PageContainer,\n  OrderHistoryTitleContainer,\n} from \"./styled\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { goToEditProfile, goToEditAddress } from \"../../router/Coordinator\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  getProfile,\n  handleLogin,\n  getOrderHistory,\n} from \"../../axiosRequests/user\";\nimport Footer from \"../../components/Footer/Footer\";\nimport useForm from \"../../hooks/useForm\";\nimport Header from \"../../components/Header/Header\";\n\nconst ProfilePage = () => {\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState({});\n  const [orderHistory, setOrderHistory] = useState([]);\n\n  useEffect(() => {\n    getProfile(setProfile);\n    getOrderHistory(setOrderHistory);\n  }, []);\n\n  const formatDateToLocalDate = (date) => {\n    const dateUTC = new Date(date);\n    return dateUTC.toLocaleDateString();\n  };\n\n  const formatDateToLocalTime = (date) => {\n    const dateUTC = new Date(date);\n    return dateUTC.toLocaleTimeString();\n  };\n\n  const renderAddress = profile.address ? (\n    <>\n    <AddressContainer>\n            <p>Endereço cadastrado:</p>\n            <p>{profile.address}</p>\n          </AddressContainer>\n          <EditContainer>\n            <CreateIcon onClick={() => goToEditAddress(navigate)} />\n          </EditContainer>\n          </>\n  ) : (\n    <AddressContainer>\n      <p>\n        Favor cadastrar um endereçoclicando{\" \"}\n        <strong onClick={() => navigate(\"/endereco\")}>aqui.</strong>\n      </p>\n    </AddressContainer>\n  );\n\n  return (\n    console.log(orderHistory),\n    <>\n    <Header />\n      <PageContainer>\n        <Container>\n          <RegisteredProfile>\n            <p>{profile.name}</p>\n            <p>{profile.email}</p>\n            <p>{profile.cpf}</p>\n          </RegisteredProfile>\n          <EditContainer>\n            <CreateIcon onClick={() => goToEditProfile(navigate)} />\n          </EditContainer>\n        </Container>\n\n        <Container2>\n          {renderAddress}\n        </Container2>\n\n        <OrderHistoryTitleContainer>\n          <p>Histórico de pedidos</p>\n          <hr />\n\n\n\n          {orderHistory.length > 0 ? (\n            <>\n            <OrderHistoryContainer>\n              {orderHistory.map((order) => (\n                <div key={order.id}>\n                  <p>{order.restaurantName}</p>\n                  <span>{formatDateToLocalDate(order.createdAt)}, {formatDateToLocalTime(order.createdAt)}</span>\n                  <br />\n                  <strong>SUBTOTAL: R${order.totalPrice}</strong>\n                </div>\n\n              ))}\n              </OrderHistoryContainer>\n              </>\n          ) : (\n            <p>Nenhum pedido realizado</p>\n          )}\n        </OrderHistoryTitleContainer>\n      </PageContainer>\n\n      <Footer />\n    </>\n  );\n};\n\nexport default ProfilePage;\n"]},"metadata":{},"sourceType":"module"}