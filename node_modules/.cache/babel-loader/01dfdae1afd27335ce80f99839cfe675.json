{"ast":null,"code":"import _slicedToArray from\"/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";// import { Box } from '@material-ui/core'\nimport{TextField,InputAdornment,IconButton}from\"@material-ui/core\";import Visibility from\"@material-ui/icons/Visibility\";import VisibilityOff from\"@material-ui/icons/VisibilityOff\";import axios from\"axios\";import{BASE_URL}from\"../../constants/urls\";import{useNavigate}from\"react-router-dom\";import useForm from\"../../hooks/useForm\";import{goToFeed}from\"../../router/Coordinator\";import{useState}from\"react\";import Logo from\"../../assets/logo/logoLogin.svg\";import{BotaoContainer,EntrarPageContainer,ContainerCentral,ContainerPagina}from\"./styled\";var SignupPage=function SignupPage(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var handleClickShowPassword=function handleClickShowPassword(){return setShowPassword(!showPassword);};var handleMouseDownPassword=function handleMouseDownPassword(){return setShowPassword(!showPassword);};var navigate=useNavigate();var _useForm=useForm({name:\"\",email:\"\",cpf:\"\",password:\"\"}),form=_useForm.form,onChangeForm=_useForm.onChangeForm;var onSubmitSignUp=function onSubmitSignUp(event){if(form.password===passwordConfirm){event.preventDefault();axios.post(\"\".concat(BASE_URL,\"/signup\"),form).then(function(response){alert(\"Cadastro realizado com sucesso! Peça seu pedido!\");console.log(\"Deu certo:\",response.data.token);localStorage.setItem(\"token\",response.data.token);goToFeed(navigate);}).catch(function(error){console.log(\"Deu errado:\",error.response.data.message);alert(error.response.data.message);});}else{alert(\"Deve ser a mesma senha anterior.\");}};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),passwordConfirm=_useState4[0],setPasswordConfirm=_useState4[1];var handlePassword=function handlePassword(event){setPasswordConfirm(event.target.value);};return/*#__PURE__*/React.createElement(ContainerPagina,null,/*#__PURE__*/React.createElement(ContainerCentral,null,/*#__PURE__*/React.createElement(\"img\",{src:Logo})),/*#__PURE__*/React.createElement(ContainerCentral,null,/*#__PURE__*/React.createElement(BotaoContainer,null,/*#__PURE__*/React.createElement(ContainerCentral,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Cadastro\")),/*#__PURE__*/React.createElement(TextField,{name:\"name\",id:\"outlined-basic\",label:\"Nome\",variant:\"outlined\",value:form.name,onChange:onChangeForm,required:true}),/*#__PURE__*/React.createElement(TextField,{name:\"email\",id:\"outlined-basic\",label:\"Email\",variant:\"outlined\",value:form.email,onChange:onChangeForm,required:true}),/*#__PURE__*/React.createElement(TextField,{name:\"cpf\",id:\"outlined-basic\",label:\"CPF\",variant:\"outlined\",value:form.cpf,onChange:onChangeForm,required:true}),/*#__PURE__*/React.createElement(TextField,{name:\"password\",id:\"outlined-basic\",label:\"Senha\",variant:\"outlined\",type:showPassword?\"text\":\"password\",value:form.password,onChange:onChangeForm,required:true,InputProps:{endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"toggle password visibility\",onClick:handleClickShowPassword,onMouseDown:handleMouseDownPassword},showPassword?/*#__PURE__*/React.createElement(Visibility,null):/*#__PURE__*/React.createElement(VisibilityOff,null)))}}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-basic\",label:\"Confirmar senha\",variant:\"outlined\",type:showPassword?\"text\":\"password\",placeholder:\"senha\",value:passwordConfirm,onChange:handlePassword,InputProps:{endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"toggle password visibility\",onClick:handleClickShowPassword,onMouseDown:handleMouseDownPassword},showPassword?/*#__PURE__*/React.createElement(Visibility,null):/*#__PURE__*/React.createElement(VisibilityOff,null)))}}),/*#__PURE__*/React.createElement(EntrarPageContainer,{onClick:onSubmitSignUp},\"Fazer Cadastro\"))));};export default SignupPage;","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/signuppage/SignupPage.js"],"names":["React","TextField","InputAdornment","IconButton","Visibility","VisibilityOff","axios","BASE_URL","useNavigate","useForm","goToFeed","useState","BotaoContainer","EntrarPageContainer","ContainerCentral","ContainerPagina","SignupPage","showPassword","setShowPassword","handleClickShowPassword","handleMouseDownPassword","navigate","name","email","cpf","password","form","onChangeForm","onSubmitSignUp","event","passwordConfirm","preventDefault","post","then","response","alert","console","log","data","token","localStorage","setItem","catch","error","message","setPasswordConfirm","handlePassword","target","value","Logo","endAdornment"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import { Box } from '@material-ui/core'\nimport { TextField, InputAdornment, IconButton } from \"@material-ui/core\";\nimport Visibility from \"@material-ui/icons/Visibility\";\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\nimport axios from \"axios\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport { useNavigate } from \"react-router-dom\";\nimport useForm from \"../../hooks/useForm\";\nimport { goToFeed } from \"../../router/Coordinator\";\nimport { useState } from \"react\";\nimport Logo from \"../../assets/logo/logoLogin.svg\";\nimport {\n  BotaoContainer,\n  EntrarPageContainer,\n  ContainerCentral,\n  ContainerPagina,\n} from \"./styled\";\n\nconst SignupPage = () => {\n  const [showPassword, setShowPassword] = useState(false);\n  const handleClickShowPassword = () => setShowPassword(!showPassword);\n  const handleMouseDownPassword = () => setShowPassword(!showPassword);\n  const navigate = useNavigate();\n  const { form, onChangeForm } = useForm({\n    name: \"\",\n    email: \"\",\n    cpf: \"\",\n    password: \"\",\n  });\n\n  const onSubmitSignUp = (event) => {\n    if (form.password === passwordConfirm) {\n      event.preventDefault();\n      axios\n        .post(`${BASE_URL}/signup`, form)\n        .then((response) => {\n          alert(\"Cadastro realizado com sucesso! Peça seu pedido!\");\n          console.log(\"Deu certo:\", response.data.token);\n          localStorage.setItem(\"token\", response.data.token);\n          goToFeed(navigate);\n        })\n        .catch((error) => {\n          console.log(\"Deu errado:\", error.response.data.message);\n          alert(error.response.data.message);\n        });\n    } else {\n      alert(\"Deve ser a mesma senha anterior.\");\n    }\n  };\n\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n\n  const handlePassword = (event) => {\n    setPasswordConfirm(event.target.value);\n  };\n\n  return (\n    <ContainerPagina>\n      <ContainerCentral>\n        <img src={Logo} />\n      </ContainerCentral>\n      <ContainerCentral>\n        <BotaoContainer>\n          <ContainerCentral>\n            <h3>Cadastro</h3>\n          </ContainerCentral>\n\n          <TextField\n            name={\"name\"}\n            id=\"outlined-basic\"\n            label=\"Nome\"\n            variant=\"outlined\"\n            value={form.name}\n            onChange={onChangeForm}\n            required\n          />\n          <TextField\n            name={\"email\"}\n            id=\"outlined-basic\"\n            label=\"Email\"\n            variant=\"outlined\"\n            value={form.email}\n            onChange={onChangeForm}\n            required\n          />\n          <TextField\n            name={\"cpf\"}\n            id=\"outlined-basic\"\n            label=\"CPF\"\n            variant=\"outlined\"\n            value={form.cpf}\n            onChange={onChangeForm}\n            required\n          />\n          <TextField\n            name={\"password\"}\n            id=\"outlined-basic\"\n            label=\"Senha\"\n            variant=\"outlined\"\n            type={showPassword ? \"text\" : \"password\"}\n            value={form.password}\n            onChange={onChangeForm}\n            required\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={handleClickShowPassword}\n                    onMouseDown={handleMouseDownPassword}\n                  >\n                    {showPassword ? <Visibility /> : <VisibilityOff />}\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n\n          <TextField\n            id=\"outlined-basic\"\n            label=\"Confirmar senha\"\n            variant=\"outlined\"\n            type={showPassword ? \"text\" : \"password\"}\n            placeholder=\"senha\"\n            value={passwordConfirm}\n            onChange={handlePassword}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={handleClickShowPassword}\n                    onMouseDown={handleMouseDownPassword}\n                  >\n                    {showPassword ? <Visibility /> : <VisibilityOff />}\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n\n          {/* <TextField id=\"outlined-basic\" label=\"Confirmar Senha\" variant=\"outlined\" value={Confirmpassword} onChange={onChangePassword}/> */}\n\n          <EntrarPageContainer onClick={onSubmitSignUp}>\n            Fazer Cadastro\n          </EntrarPageContainer>\n        </BotaoContainer>\n      </ContainerCentral>\n    </ContainerPagina>\n  );\n};\n\nexport default SignupPage;\n"]},"metadata":{},"sourceType":"module"}