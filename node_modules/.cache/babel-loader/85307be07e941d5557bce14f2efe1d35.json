{"ast":null,"code":"var _jsxFileName = \"/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/components/Global/GlobalState.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { GlobalStateContext } from \"./GlobalStateContext\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport axios from \"axios\";\nexport const GlobalState = props => {\n  const [restaurants, setRestaurants] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [openModal, setOpenModal] = useState(false);\n  const [cart, setCart] = useState([]);\n  const [filteredRestaurants, setFilteredRestaurants] = useState([]);\n  const [orderStatus, setOrderStatus] = useState([]);\n  const [restaurantId, setRestaurantId] = useState(\"\");\n  console.log(\"ESTADO GLOBAL CART\", cart);\n  useEffect(() => {\n    pegarRestaurants();\n  }, []);\n  useEffect(() => {\n    pegarProducts();\n  }, [restaurants]); // useEffect(() => {\n  // }, [cart])\n\n  const pegarProducts = () => {\n    const newList = [];\n    restaurants.forEach(p => {\n      axios.get(`${BASE_URL}/restaurants/${p.id}`, {\n        headers: {\n          Auth: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkEwMDVtSEJmeVNrdDdPTjBITGFwIiwibmFtZSI6IkFzdHJvZGV2IiwiZW1haWwiOiJhc3Ryb2RldkBmdXR1cmU0LmNvbSIsImNwZiI6IjMzMy44ODguNjY2LTQ0IiwiaGFzQWRkcmVzcyI6dHJ1ZSwiYWRkcmVzcyI6IkJhbmFuaW5oYSwgOTgsIDY1IC0gQmFuYW5pbmhhIiwiaWF0IjoxNjQ3MjgxODYwfQ.v_AQdOG33NHtcXjizcAM6QR0qj-SCrtHx5VT0xM2XcE\"\n        }\n      }).then(res => {\n        newList.push(res.data.restaurant.products);\n\n        if (newList.length === 10) {\n          const orderedList = newList.sort((a, b) => {\n            return a.id - b.id;\n          });\n          setProducts(orderedList);\n        }\n      }).catch(error => console.log(error.message));\n    });\n  };\n\n  const pegarRestaurants = () => {\n    axios.get(`${BASE_URL}/restaurants`, {\n      headers: {\n        Auth: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkEwMDVtSEJmeVNrdDdPTjBITGFwIiwibmFtZSI6IkFzdHJvZGV2IiwiZW1haWwiOiJhc3Ryb2RldkBmdXR1cmU0LmNvbSIsImNwZiI6IjMzMy44ODguNjY2LTQ0IiwiaGFzQWRkcmVzcyI6dHJ1ZSwiYWRkcmVzcyI6IkJhbmFuaW5oYSwgOTgsIDY1IC0gQmFuYW5pbmhhIiwiaWF0IjoxNjQ3MjgxODYwfQ.v_AQdOG33NHtcXjizcAM6QR0qj-SCrtHx5VT0xM2XcE\"\n      }\n    }).then(({\n      data\n    }) => {\n      setFilteredRestaurants(data.restaurants);\n      const newRestaurants = [];\n      data.restaurants.forEach(p => newRestaurants.push(p));\n      setRestaurants(oldRestaurants => [...oldRestaurants, ...newRestaurants]);\n    });\n  };\n\n  const states = {\n    openModal,\n    products,\n    restaurants,\n    cart,\n    restaurantId,\n    filteredRestaurants,\n    orderStatus\n  };\n  const sets = {\n    setOpenModal,\n    setProducts,\n    setRestaurants,\n    setCart,\n    setRestaurantId,\n    setFilteredRestaurants,\n    setOrderStatus\n  };\n  return /*#__PURE__*/React.createElement(GlobalStateContext.Provider, {\n    value: {\n      states,\n      sets\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, props.children);\n};\nexport default GlobalState; // address:\n// category:\n// deliveryTime:\n// description:\n// id:\n// logoUrl:\n// name:\n// shipping:","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/components/Global/GlobalState.js"],"names":["React","useEffect","useState","GlobalStateContext","BASE_URL","axios","GlobalState","props","restaurants","setRestaurants","products","setProducts","openModal","setOpenModal","cart","setCart","filteredRestaurants","setFilteredRestaurants","orderStatus","setOrderStatus","restaurantId","setRestaurantId","console","log","pegarRestaurants","pegarProducts","newList","forEach","p","get","id","headers","Auth","then","res","push","data","restaurant","length","orderedList","sort","a","b","catch","error","message","newRestaurants","oldRestaurants","states","sets","children"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { GlobalStateContext } from \"./GlobalStateContext\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport axios from \"axios\";\n\nexport const GlobalState = (props) => {\n  const [restaurants, setRestaurants] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [openModal, setOpenModal] = useState(false)\n  const [cart, setCart] = useState([])\n  const [filteredRestaurants, setFilteredRestaurants] = useState([]);\n  const [orderStatus , setOrderStatus] = useState([])\n\n  const [restaurantId, setRestaurantId] = useState(\"\")\n\n  console.log(\"ESTADO GLOBAL CART\", cart)\n\n  useEffect(() => {\n    pegarRestaurants();\n  }, []);\n  useEffect(() => {\n    pegarProducts();\n  }, [restaurants]);\n\n\n  // useEffect(() => {\n\n  // }, [cart])\n\n  const pegarProducts = () => {\n    const newList = [];\n    restaurants.forEach((p) => {\n      axios\n        .get(`${BASE_URL}/restaurants/${p.id}`, {\n          headers: {\n            Auth: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkEwMDVtSEJmeVNrdDdPTjBITGFwIiwibmFtZSI6IkFzdHJvZGV2IiwiZW1haWwiOiJhc3Ryb2RldkBmdXR1cmU0LmNvbSIsImNwZiI6IjMzMy44ODguNjY2LTQ0IiwiaGFzQWRkcmVzcyI6dHJ1ZSwiYWRkcmVzcyI6IkJhbmFuaW5oYSwgOTgsIDY1IC0gQmFuYW5pbmhhIiwiaWF0IjoxNjQ3MjgxODYwfQ.v_AQdOG33NHtcXjizcAM6QR0qj-SCrtHx5VT0xM2XcE\",\n          },\n        })\n        .then((res) => {\n          newList.push(res.data.restaurant.products);\n          if (newList.length === 10) {\n            const orderedList = newList.sort((a, b) => {\n              return a.id - b.id;\n            });\n            setProducts(orderedList);\n            \n          }\n        })\n        .catch((error) => console.log(error.message));\n    });\n  };\n\n  const pegarRestaurants = () => {\n    axios\n      .get(`${BASE_URL}/restaurants`, {\n        headers: {\n          Auth: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IkEwMDVtSEJmeVNrdDdPTjBITGFwIiwibmFtZSI6IkFzdHJvZGV2IiwiZW1haWwiOiJhc3Ryb2RldkBmdXR1cmU0LmNvbSIsImNwZiI6IjMzMy44ODguNjY2LTQ0IiwiaGFzQWRkcmVzcyI6dHJ1ZSwiYWRkcmVzcyI6IkJhbmFuaW5oYSwgOTgsIDY1IC0gQmFuYW5pbmhhIiwiaWF0IjoxNjQ3MjgxODYwfQ.v_AQdOG33NHtcXjizcAM6QR0qj-SCrtHx5VT0xM2XcE\",\n        },\n      })\n      .then(({ data }) => {\n        setFilteredRestaurants(data.restaurants);\n        const newRestaurants = [];\n        data.restaurants.forEach((p) => newRestaurants.push(p));\n        setRestaurants((oldRestaurants) => [\n          ...oldRestaurants,\n          ...newRestaurants,\n        ]);\n      });\n  };\n\n  const states = {openModal, products, restaurants, cart, restaurantId, filteredRestaurants, orderStatus}\n  const sets = {setOpenModal, setProducts, setRestaurants, setCart, setRestaurantId, setFilteredRestaurants, setOrderStatus}\n\n  return (\n    <GlobalStateContext.Provider value={{ states, sets }}>\n      {props.children}\n    </GlobalStateContext.Provider>\n  );\n};\n\nexport default GlobalState;\n// address:\n// category:\n// deliveryTime:\n// description:\n// id:\n// logoUrl:\n// name:\n// shipping:\n"]},"metadata":{},"sourceType":"module"}