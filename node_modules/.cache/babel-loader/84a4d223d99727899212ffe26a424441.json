{"ast":null,"code":"var _jsxFileName = \"/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/feedpage/FeedPage.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport FeedCard from \"../../components/FeedCard/FeedCard\";\nimport { GlobalStateContext } from \"../../components/Global/GlobalStateContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport Footer from \"../../components/Footer/Footer\";\nimport { ConteinerInput, PageContainer, OrderActive, OrderActiveCtn, CtnTimer, ColorWhite } from \"./styled\";\nimport { InputAdornment, TextField } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport Header from \"../../components/Header/Header\";\nimport { useProtectedPage } from \"../../hooks/useProtectedPage\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport axios from \"axios\";\nimport { getAuthToken } from \"../../constants/token\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\n\nconst FeedPage = () => {\n  useProtectedPage();\n  const {\n    states,\n    sets\n  } = useContext(GlobalStateContext);\n  const [errorOrder, setErrorOrder] = useState(\"\");\n  const navigate = useNavigate();\n\n  const getActiveOrder = () => {\n    axios.get(`${BASE_URL}/active-order`, {\n      headers: {\n        auth: getAuthToken()\n      }\n    }).then(res => {\n      sets.setOrderStatus(res.data.order);\n      console.log(states.orderStatus);\n    }).catch(err => {\n      setErrorOrder(err);\n    });\n  };\n\n  const goToSearch = () => {\n    navigate(`/busca`);\n  };\n\n  const goToRestaurantDetail = id => {\n    sets.setFilteredRestaurants(states.restaurants);\n    navigate(`/restaurante/${id}`);\n  };\n\n  useEffect(() => {\n    sets.setFilteredRestaurants(states.restaurants);\n    getActiveOrder();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ConteinerInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    onClick: () => goToSearch(navigate),\n    placeholder: \"  Restaurante\",\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Search, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 19\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), states.filteredRestaurants && states.filteredRestaurants.map((restaurant, i) => /*#__PURE__*/React.createElement(FeedCard, {\n    key: i,\n    restaurants: restaurant,\n    onClickRestaurant: () => goToRestaurantDetail(restaurant.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  })), states.orderStatus && states.orderStatus && states.orderStatus[0] !== null && !errorOrder ? /*#__PURE__*/React.createElement(OrderActiveCtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(OrderActive, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CtnTimer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AccessTimeIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ColorWhite, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, \"Pedido em andamento\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, states.orderStatus && states.orderStatus.restaurantName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 20\n    }\n  }, \"SUBTOTAL R$\", states.orderStatus && states.orderStatus.totalPrice))))) : /*#__PURE__*/React.createElement(React.Fragment, null)), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default FeedPage;","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/pages/feedpage/FeedPage.js"],"names":["React","useContext","useEffect","useState","FeedCard","GlobalStateContext","useNavigate","Footer","ConteinerInput","PageContainer","OrderActive","OrderActiveCtn","CtnTimer","ColorWhite","InputAdornment","TextField","Search","Navbar","Header","useProtectedPage","BASE_URL","axios","getAuthToken","AccessTimeIcon","FeedPage","states","sets","errorOrder","setErrorOrder","navigate","getActiveOrder","get","headers","auth","then","res","setOrderStatus","data","order","console","log","orderStatus","catch","err","goToSearch","goToRestaurantDetail","id","setFilteredRestaurants","restaurants","startAdornment","filteredRestaurants","map","restaurant","i","restaurantName","totalPrice"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport FeedCard from \"../../components/FeedCard/FeedCard\";\nimport { GlobalStateContext } from \"../../components/Global/GlobalStateContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport Footer from \"../../components/Footer/Footer\";\nimport {\n  ConteinerInput,\n  PageContainer,\n  OrderActive,\n  OrderActiveCtn,\n  CtnTimer,\n  ColorWhite,\n} from \"./styled\";\nimport { InputAdornment, TextField } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport Header from \"../../components/Header/Header\";\nimport { useProtectedPage } from \"../../hooks/useProtectedPage\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport axios from \"axios\";\nimport { getAuthToken } from \"../../constants/token\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\n\nconst FeedPage = () => {\n  useProtectedPage();\n  const { states, sets } = useContext(GlobalStateContext);\n  const [errorOrder, setErrorOrder] = useState(\"\")\n  const navigate = useNavigate();\n\n  const getActiveOrder = () => {\n    axios\n      .get(`${BASE_URL}/active-order`, {\n        headers: {\n          auth: getAuthToken(),\n        },\n      })\n      .then((res) => {\n        sets.setOrderStatus(res.data.order);\n        console.log(states.orderStatus)\n      })\n      .catch((err) => {\n        setErrorOrder(err)\n      });\n  };\n\n  const goToSearch = () => {\n    navigate(`/busca`);\n  };\n  const goToRestaurantDetail = (id) => {\n    sets.setFilteredRestaurants(states.restaurants);\n    navigate(`/restaurante/${id}`);\n  };\n\n  useEffect(() => {\n    sets.setFilteredRestaurants(states.restaurants);\n    getActiveOrder();\n  }, []);\n\n\n  return (\n    <div>\n      <Header />\n      <PageContainer>\n        <ConteinerInput>\n          <TextField\n            variant=\"outlined\"\n            onClick={() => goToSearch(navigate)}\n            placeholder={\"  Restaurante\"}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <Search />\n                </InputAdornment>\n              ),\n            }}\n          />\n        </ConteinerInput>\n\n        <Navbar />\n\n        {states.filteredRestaurants &&\n          states.filteredRestaurants.map((restaurant, i) => (\n            <FeedCard\n              key={i}\n              restaurants={restaurant}\n              onClickRestaurant={() => goToRestaurantDetail(restaurant.id)}\n            />\n          ))}\n        {states.orderStatus  && states.orderStatus && states.orderStatus[0] !== null && !errorOrder ? (\n          <OrderActiveCtn>\n            <OrderActive>\n              <CtnTimer>\n                <AccessTimeIcon fontSize=\"large\" />\n              </CtnTimer>\n              <div>\n                <ColorWhite>\n                  <p>Pedido em andamento</p>\n                </ColorWhite>\n                <p>{states.orderStatus && states.orderStatus.restaurantName}</p>\n                <p><strong>SUBTOTAL R${states.orderStatus && states.orderStatus.totalPrice}</strong></p>\n              </div>\n            </OrderActive>\n          </OrderActiveCtn>\n        ) : (\n          <></>\n        )}\n      </PageContainer>\n\n      <Footer />\n    </div>\n  );\n};\nexport default FeedPage;\n"]},"metadata":{},"sourceType":"module"}