{"ast":null,"code":"import axios from \"axios\";\nimport { BASE_URL } from \"../constants/urls\";\nimport { goToAdress, goToFeed, goBack } from \"../router/Coordinator\"; // *************** AXIOS PARA LOGAR ***************** //\n\nexport const handleLogin = (body, clear, navigate) => {\n  axios.post(`${BASE_URL}/login`, body).then(res => {\n    alert(\"ok\"); // console.log(res.data);\n    // console.log(res.data.user.name)\n\n    localStorage.setItem(\"token\", res.data.token);\n    console.log(res.data.token);\n\n    if (res.data.user.hasAddress === false) {\n      alert(`Olá ${res.data.user.name}! Parece que você não possui um endereço associado. Estamos te redirecionando...`);\n      goToAdress(navigate);\n    } else {\n      alert(\"BEM VINDO\"); // goToFeed(navigate);\n\n      goToFeed(navigate);\n    }\n\n    clear();\n  }).catch(error => {\n    alert(\"deu erro no login\");\n    console.log(error.response);\n  });\n}; // *************** AXIOS PARA ALTERAR ENDEREÇO ***************** //\n\nexport const handleAdress = (body, clear, navigate) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.put(`${BASE_URL}/address`, body, headers).then(res => {\n    localStorage.setItem(\"token\", res.data.token);\n    alert(\"Endereço alterado com sucesso!\");\n    console.log(res.data);\n    clear();\n  }).catch(error => {\n    alert(\"Erro ao modificar endereço\");\n    console.log(error.response);\n  });\n}; // *************** AXIOS PARA PEGAR PERFIL ***************** //\n\nexport const getProfile = setProfile => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.get(`${BASE_URL}/profile`, headers).then(response => setProfile(response.data.user)).catch(error => {\n    console.log(error.response);\n  });\n}; // *************** AXIOS PARA ALTERARA PERFIL ***************** //\n\nexport const handleProfile = (body, clear, navigate) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.put(`${BASE_URL}/profile`, body, headers).then(res => {\n    alert(\"perfil alterado com sucesso\");\n    console.log(res.data);\n    clear();\n    go;\n  }).catch(error => {\n    alert(\"perfil deu erro\");\n    console.log(error.response);\n  });\n}; // *************** AXIOS PARA PEGAR RESTAURANTES ***************** //\n\nexport const getRestaurants = setRestaurants => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.get(`${BASE_URL}/restaurants`, headers).then(response => setRestaurants(response.data.restaurant)) // console.log(\"Restaurants: \", restaurants);\n  .catch(err => {\n    console.log(err.response);\n  });\n}; // *************** AXIOS PARA PEGAR DETALHES DO RESTAURANTE ***************** //\n\nexport const getDetailRestaurant = (id, setRestaurant) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.get(`${BASE_URL}/restaurants/${id}`, headers).then(response => setRestaurant(response.data.restaurant)) // .then((res) => {\n  //   console.log(res.data.restaurant);\n  //   setRestaurant(res.data.restaurant);\n  // })\n  .catch(err => {\n    console.log(err.response);\n  });\n}; // *************** AXIOS PARA PEGAR PEDIDOS ***************** //\n\nexport const getOrderHistory = setOrders => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.get(`${BASE_URL}/orders/history`, headers).then(response => setOrders(response.data.orders)).catch(err => {\n    console.log(err.response);\n  });\n}; // *************** AXIOS ENVIAR PEDIDO ***************** //\n\nexport const sendOrder = (id, body, navigate) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.post(`${BASE_URL}/restaurants/${id}/order`, body, headers).then(res => {\n    alert(\"Pedido enviado com sucesso!\");\n    console.log(res.data); // clear();\n  }).catch(error => {\n    alert(\"Pedido deu erro\");\n    console.log(error.response);\n  });\n};","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/axiosRequests/user.js"],"names":["axios","BASE_URL","goToAdress","goToFeed","goBack","handleLogin","body","clear","navigate","post","then","res","alert","localStorage","setItem","data","token","console","log","user","hasAddress","name","catch","error","response","handleAdress","headers","Auth","getItem","put","getProfile","setProfile","auth","get","handleProfile","go","getRestaurants","setRestaurants","restaurant","err","getDetailRestaurant","id","setRestaurant","getOrderHistory","setOrders","orders","sendOrder"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { BASE_URL } from \"../constants/urls\";\nimport { goToAdress, goToFeed, goBack } from \"../router/Coordinator\";\n\n// *************** AXIOS PARA LOGAR ***************** //\n\nexport const handleLogin = (body, clear, navigate) => {\n  axios\n    .post(`${BASE_URL}/login`, body)\n    .then((res) => {\n      alert(\"ok\");\n      // console.log(res.data);\n      // console.log(res.data.user.name)\n      localStorage.setItem(\"token\", res.data.token);\n      console.log(res.data.token);\n\n      if (res.data.user.hasAddress === false) {\n        alert(\n          `Olá ${res.data.user.name}! Parece que você não possui um endereço associado. Estamos te redirecionando...`\n        );\n        goToAdress(navigate);\n      } else {\n        alert(\"BEM VINDO\");\n        // goToFeed(navigate);\n        goToFeed(navigate);\n      }\n      clear();\n    })\n    .catch((error) => {\n      alert(\"deu erro no login\");\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA ALTERAR ENDEREÇO ***************** //\n\n\nexport const handleAdress = (body, clear, navigate) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\"),\n    }\n  }\n\n  axios\n    .put(`${BASE_URL}/address`, body, headers)\n    .then((res) => {\n      localStorage.setItem(\"token\", res.data.token)\n      alert(\"Endereço alterado com sucesso!\");\n      console.log(res.data);\n      clear();\n    })\n    .catch((error) => {\n      alert(\"Erro ao modificar endereço\");\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR PERFIL ***************** //\n\n\nexport const getProfile = (setProfile) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\"),\n    }\n  }\n\n  axios\n    .get(`${BASE_URL}/profile`, headers)\n    .then((response) => setProfile(response.data.user))\n    .catch((error) => {\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA ALTERARA PERFIL ***************** //\n\nexport const handleProfile = (body, clear, navigate) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\"),\n    }\n  }\n\n  axios\n    .put(`${BASE_URL}/profile`, body, headers)\n    .then((res) => {\n      alert(\"perfil alterado com sucesso\");\n      console.log(res.data);\n      clear();\n      go\n    })\n    .catch((error) => {\n      alert(\"perfil deu erro\");\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR RESTAURANTES ***************** //\n\n\nexport const getRestaurants = (setRestaurants) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  }\n  axios\n    .get(`${BASE_URL}/restaurants`, headers)\n    .then((response) => setRestaurants(response.data.restaurant))\n    // console.log(\"Restaurants: \", restaurants);\n    .catch((err) => {\n      console.log(err.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR DETALHES DO RESTAURANTE ***************** //\n\n\nexport const getDetailRestaurant = (id, setRestaurant) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }\n  axios\n    .get(`${BASE_URL}/restaurants/${id}`, headers)\n    .then((response) => setRestaurant(response.data.restaurant))\n    // .then((res) => {\n    //   console.log(res.data.restaurant);\n    //   setRestaurant(res.data.restaurant);\n    // })\n    .catch((err) => {\n      console.log(err.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR PEDIDOS ***************** //\n\nexport const getOrderHistory = (setOrders) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  }\n  axios\n    .get(`${BASE_URL}/orders/history`, headers)\n    .then((response) => setOrders(response.data.orders))\n    .catch((err) => {\n      console.log(err.response);\n    })\n}\n\n\n// *************** AXIOS ENVIAR PEDIDO ***************** //\n\nexport const sendOrder = (id, body, navigate) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }\n\n  axios\n    .post(`${BASE_URL}/restaurants/${id}/order`, body, headers)\n    .then((res) => {\n      alert(\"Pedido enviado com sucesso!\");\n      console.log(res.data);\n      // clear();\n    })\n    .catch((error) => {\n      alert(\"Pedido deu erro\");\n      console.log(error.response);\n    })\n}"]},"metadata":{},"sourceType":"module"}