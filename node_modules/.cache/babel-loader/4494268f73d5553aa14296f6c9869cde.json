{"ast":null,"code":"import axios from\"axios\";import{BASE_URL}from\"../constants/urls\";import{goToAdress,goToFeed}from\"../router/Coordinator\";// *************** AXIOS PARA LOGAR ***************** //\nexport var handleLogin=function handleLogin(body,clear,navigate){axios.post(\"\".concat(BASE_URL,\"/login\"),body).then(function(res){alert(\"ok\");// console.log(res.data);\n// console.log(res.data.user.name)\nlocalStorage.setItem(\"token\",res.data.token);console.log(res.data.token);if(res.data.user.hasAddress===false){alert(\"Ol\\xE1 \".concat(res.data.user.name,\"! Parece que voc\\xEA n\\xE3o possui um endere\\xE7o associado. Estamos te redirecionando...\"));goToAdress(navigate);}else{alert(\"BEM VINDO\");// goToFeed(navigate);\ngoToFeed(navigate);}clear();}).catch(function(error){alert(\"deu erro no login\");console.log(error.response);});};// *************** AXIOS PARA ALTERAR ENDEREÇO ***************** //\nexport var handleAdress=function handleAdress(body,clear,navigate){var headers={headers:{Auth:localStorage.getItem(\"token\")}};axios.put(\"\".concat(BASE_URL,\"/address\"),body,headers).then(function(res){localStorage.setItem(\"token\",res.data.token);alert(\"Endereço alterado com sucesso!\");console.log(res.data);clear();}).catch(function(error){alert(\"Erro ao modificar endereço\");console.log(error.response);});};// *************** AXIOS PARA PEGAR PERFIL ***************** //\nexport var getProfile=function getProfile(setProfile){var headers={headers:{auth:localStorage.getItem(\"token\")}};axios.get(\"\".concat(BASE_URL,\"/profile\"),headers).then(function(response){return setProfile(response.data.user);}).catch(function(error){console.log(error.response);});};// *************** AXIOS PARA ALTERARA PERFIL ***************** //\nexport var handleProfile=function handleProfile(body,clear,navigate){var headers={headers:{auth:localStorage.getItem(\"token\")}};axios.put(\"\".concat(BASE_URL,\"/profile\"),body,headers).then(function(res){alert(\"perfil alterado com sucesso\");console.log(res.data);clear();}).catch(function(error){alert(\"perfil deu erro\");console.log(error.response);});};// *************** AXIOS PARA PEGAR RESTAURANTES ***************** //\nexport var getRestaurants=function getRestaurants(setRestaurants){var headers={headers:{Auth:localStorage.getItem(\"token\")}};axios.get(\"\".concat(BASE_URL,\"/restaurants\"),headers).then(function(response){return setRestaurants(response.data.restaurant);})// console.log(\"Restaurants: \", restaurants);\n.catch(function(err){console.log(err.response);});};// *************** AXIOS PARA PEGAR DETALHES DO RESTAURANTE ***************** //\nexport var getDetailRestaurant=function getDetailRestaurant(id,setRestaurant){var headers={headers:{auth:localStorage.getItem(\"token\")}};axios.get(\"\".concat(BASE_URL,\"/restaurants/\").concat(id),headers).then(function(response){return setRestaurant(response.data.restaurant);})// .then((res) => {\n//   console.log(res.data.restaurant);\n//   setRestaurant(res.data.restaurant);\n// })\n.catch(function(err){console.log(err.response);});};// *************** AXIOS PARA PEGAR PEDIDOS ***************** //\nexport var getOrderHistory=function getOrderHistory(setOrders){var headers={headers:{Auth:localStorage.getItem(\"token\")}};axios.get(\"\".concat(BASE_URL,\"/orders/history\"),headers).then(function(response){return setOrders(response.data.orders);}).catch(function(err){console.log(err.response);});};// *************** AXIOS ENVIAR PEDIDO ***************** //\nexport var sendOrder=function sendOrder(id,body,navigate){var headers={headers:{auth:localStorage.getItem(\"token\")}};axios.post(\"\".concat(BASE_URL,\"/restaurants/\").concat(id,\"/order\"),body,headers).then(function(res){alert(\"Pedido enviado com sucesso!\");console.log(res.data);goToFeed(navigate);// clear();\n}).catch(function(error){alert(\"Pedido deu erro\");console.log(error.response);});};","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/axiosRequests/user.js"],"names":["axios","BASE_URL","goToAdress","goToFeed","handleLogin","body","clear","navigate","post","then","res","alert","localStorage","setItem","data","token","console","log","user","hasAddress","name","catch","error","response","handleAdress","headers","Auth","getItem","put","getProfile","setProfile","auth","get","handleProfile","getRestaurants","setRestaurants","restaurant","err","getDetailRestaurant","id","setRestaurant","getOrderHistory","setOrders","orders","sendOrder"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { BASE_URL } from \"../constants/urls\";\nimport { goToAdress, goToFeed  } from \"../router/Coordinator\";\n\n// *************** AXIOS PARA LOGAR ***************** //\n\nexport const handleLogin = (body, clear, navigate) => {\n  axios\n    .post(`${BASE_URL}/login`, body)\n    .then((res) => {\n      alert(\"ok\");\n      // console.log(res.data);\n      // console.log(res.data.user.name)\n      localStorage.setItem(\"token\", res.data.token);\n      console.log(res.data.token);\n\n      if (res.data.user.hasAddress === false) {\n        alert(\n          `Olá ${res.data.user.name}! Parece que você não possui um endereço associado. Estamos te redirecionando...`\n        );\n        goToAdress(navigate);\n      } else {\n        alert(\"BEM VINDO\");\n        // goToFeed(navigate);\n        goToFeed(navigate);\n      }\n      clear();\n    })\n    .catch((error) => {\n      alert(\"deu erro no login\");\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA ALTERAR ENDEREÇO ***************** //\n\n\nexport const handleAdress = (body, clear, navigate) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\"),\n    }\n  }\n\n  axios\n    .put(`${BASE_URL}/address`, body, headers)\n    .then((res) => {\n      localStorage.setItem(\"token\", res.data.token)\n      alert(\"Endereço alterado com sucesso!\");\n      console.log(res.data);\n      clear();\n    })\n    .catch((error) => {\n      alert(\"Erro ao modificar endereço\");\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR PERFIL ***************** //\n\n\nexport const getProfile = (setProfile) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\"),\n    }\n  }\n\n  axios\n    .get(`${BASE_URL}/profile`, headers)\n    .then((response) => setProfile(response.data.user))\n    .catch((error) => {\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA ALTERARA PERFIL ***************** //\n\nexport const handleProfile = (body, clear, navigate) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\"),\n    }\n  }\n\n  axios\n    .put(`${BASE_URL}/profile`, body, headers)\n    .then((res) => {\n      alert(\"perfil alterado com sucesso\");\n      console.log(res.data);\n      clear();\n    })\n    .catch((error) => {\n      alert(\"perfil deu erro\");\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR RESTAURANTES ***************** //\n\n\nexport const getRestaurants = (setRestaurants) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  }\n  axios\n    .get(`${BASE_URL}/restaurants`, headers)\n    .then((response) => setRestaurants(response.data.restaurant))\n    // console.log(\"Restaurants: \", restaurants);\n    .catch((err) => {\n      console.log(err.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR DETALHES DO RESTAURANTE ***************** //\n\n\nexport const getDetailRestaurant = (id, setRestaurant) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }\n  axios\n    .get(`${BASE_URL}/restaurants/${id}`, headers)\n    .then((response) => setRestaurant(response.data.restaurant))\n    // .then((res) => {\n    //   console.log(res.data.restaurant);\n    //   setRestaurant(res.data.restaurant);\n    // })\n    .catch((err) => {\n      console.log(err.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR PEDIDOS ***************** //\n\nexport const getOrderHistory = (setOrders) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  }\n  axios\n    .get(`${BASE_URL}/orders/history`, headers)\n    .then((response) => setOrders(response.data.orders))\n    .catch((err) => {\n      console.log(err.response);\n    })\n}\n\n\n// *************** AXIOS ENVIAR PEDIDO ***************** //\n\nexport const sendOrder = (id, body, navigate) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }\n\n  axios\n    .post(`${BASE_URL}/restaurants/${id}/order`, body, headers)\n    .then((res) => {\n      alert(\"Pedido enviado com sucesso!\");\n      console.log(res.data);\n      goToFeed(navigate)\n      // clear();\n    })\n    .catch((error) => {\n      alert(\"Pedido deu erro\");\n      console.log(error.response);\n    })\n}"]},"metadata":{},"sourceType":"module"}