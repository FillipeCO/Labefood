{"ast":null,"code":"import axios from \"axios\";\nimport { BASE_URL } from \"../constants/urls\";\nimport { goToAdress, goToFeed } from \"../router/Coordinator\"; // *************** AXIOS PARA LOGAR ***************** //\n\nexport const handleLogin = (body, clear, navigate) => {\n  axios.post(`${BASE_URL}/login`, body).then(res => {\n    alert(\"ok\"); // console.log(res.data);\n    // console.log(res.data.user.name)\n\n    localStorage.setItem(\"token\", res.data.token);\n    console.log(res.data.token);\n\n    if (res.data.user.hasAddress === false) {\n      alert(`Olá ${res.data.user.name}! Parece que você não possui um endereço associado. Estamos te redirecionando...`);\n      goToAdress(navigate);\n    } else {\n      alert(\"BEM VINDO\"); // goToFeed(navigate);\n\n      goToFeed(navigate);\n    }\n\n    clear();\n  }).catch(error => {\n    alert(\"deu erro no login\");\n    console.log(error.response);\n  });\n}; // *************** AXIOS PARA ALTERAR ENDEREÇO ***************** //\n\nexport const handleAdress = (body, clear, navigate) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.put(`${BASE_URL}/address`, body, headers).then(res => {\n    localStorage.setItem(\"token\", res.data.token);\n    console.log(res.data);\n    clear();\n  }).catch(error => {\n    alert(\"Erro ao modificar endereço\");\n    console.log(error.response);\n  });\n}; // *************** AXIOS PARA PEGAR PERFIL ***************** //\n\nexport const getProfile = setProfile => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.get(`${BASE_URL}/profile`, headers).then(response => setProfile(response.data.user)).catch(error => {\n    console.log(error.response);\n  });\n}; // *************** AXIOS PARA ALTERARA PERFIL ***************** //\n\nexport const handleProfile = (body, clear, navigate) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.put(`${BASE_URL}/profile`, body, headers).then(res => {\n    alert(\"perfil alterado com sucesso\");\n    console.log(res.data);\n    clear();\n  }).catch(error => {\n    alert(\"perfil deu erro\");\n    console.log(error.response);\n  });\n}; // *************** AXIOS PARA PEGAR RESTAURANTES ***************** //\n\nexport const getRestaurants = setRestaurants => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.get(`${BASE_URL}/restaurants`, headers).then(response => setRestaurants(response.data.restaurant)) // console.log(\"Restaurants: \", restaurants);\n  .catch(err => {\n    console.log(err.response);\n  });\n}; // *************** AXIOS PARA PEGAR DETALHES DO RESTAURANTE ***************** //\n\nexport const getDetailRestaurant = (id, setRestaurant) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.get(`${BASE_URL}/restaurants/${id}`, headers).then(response => setRestaurant(response.data.restaurant)) // .then((res) => {\n  //   console.log(res.data.restaurant);\n  //   setRestaurant(res.data.restaurant);\n  // })\n  .catch(err => {\n    console.log(err.response);\n  });\n}; // *************** AXIOS PARA PEGAR PEDIDOS ***************** //\n\nexport const getOrderHistory = setOrders => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.get(`${BASE_URL}/orders/history`, headers).then(response => setOrders(response.data.orders)).catch(err => {\n    console.log(err.response);\n  });\n}; // *************** AXIOS ENVIAR PEDIDO ***************** //\n\nexport const sendOrder = (id, body, navigate) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  };\n  axios.post(`${BASE_URL}/restaurants/${id}/order`, body, headers).then(res => {\n    goToFeed();\n    alert(\"Pedido enviado com sucesso!\");\n    console.log(res.data); // clear();\n  }).catch(error => {\n    // {error && error.response && error.response.data && error.response.data.message && alert(error.response.data.message)}\n    // if (error.response.data.message === \"Já existe um pedido em andamento\") {\n    //   alert(\"Já existe um pedido em andamento\");\n    // } else {\n    alert(\"Ocorreu um erro ao enviar o pedido, lembramos que não é possível fazer outro pedido enquanto existe um pedido\");\n    console.log(error.response); // }\n  });\n};","map":{"version":3,"sources":["/home/fillipecorreia/Desktop/LabeFood/Vaughan-labe-food5/src/axiosRequests/user.js"],"names":["axios","BASE_URL","goToAdress","goToFeed","handleLogin","body","clear","navigate","post","then","res","alert","localStorage","setItem","data","token","console","log","user","hasAddress","name","catch","error","response","handleAdress","headers","Auth","getItem","put","getProfile","setProfile","auth","get","handleProfile","getRestaurants","setRestaurants","restaurant","err","getDetailRestaurant","id","setRestaurant","getOrderHistory","setOrders","orders","sendOrder"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,uBAArC,C,CAIA;;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,IAAD,EAAOC,KAAP,EAAcC,QAAd,KAA2B;AACpDP,EAAAA,KAAK,CACFQ,IADH,CACS,GAAEP,QAAS,QADpB,EAC6BI,IAD7B,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbC,IAAAA,KAAK,CAAC,IAAD,CAAL,CADa,CAEb;AACA;;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,GAAG,CAACI,IAAJ,CAASC,KAAvC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACI,IAAJ,CAASC,KAArB;;AAEA,QAAIL,GAAG,CAACI,IAAJ,CAASI,IAAT,CAAcC,UAAd,KAA6B,KAAjC,EAAwC;AACtCR,MAAAA,KAAK,CACF,OAAMD,GAAG,CAACI,IAAJ,CAASI,IAAT,CAAcE,IAAK,kFADvB,CAAL;AAGAlB,MAAAA,UAAU,CAACK,QAAD,CAAV;AACD,KALD,MAKO;AACLI,MAAAA,KAAK,CAAC,WAAD,CAAL,CADK,CAEL;;AACAR,MAAAA,QAAQ,CAACI,QAAD,CAAR;AACD;;AACDD,IAAAA,KAAK;AACN,GApBH,EAqBGe,KArBH,CAqBUC,KAAD,IAAW;AAChBX,IAAAA,KAAK,CAAC,mBAAD,CAAL;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYK,KAAK,CAACC,QAAlB;AACD,GAxBH;AAyBD,CA1BM,C,CA4BP;;AAGA,OAAO,MAAMC,YAAY,GAAG,CAACnB,IAAD,EAAOC,KAAP,EAAcC,QAAd,KAA2B;AACrD,QAAMkB,OAAO,GAAG;AACdA,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEd,YAAY,CAACe,OAAb,CAAqB,OAArB;AADC;AADK,GAAhB;AAMA3B,EAAAA,KAAK,CACF4B,GADH,CACQ,GAAE3B,QAAS,UADnB,EAC8BI,IAD9B,EACoCoB,OADpC,EAEGhB,IAFH,CAESC,GAAD,IAAS;AACbE,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,GAAG,CAACI,IAAJ,CAASC,KAAvC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACI,IAAhB;AACAR,IAAAA,KAAK;AACN,GANH,EAOGe,KAPH,CAOUC,KAAD,IAAW;AAChBX,IAAAA,KAAK,CAAC,4BAAD,CAAL;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYK,KAAK,CAACC,QAAlB;AACD,GAVH;AAWD,CAlBM,C,CAoBP;;AAGA,OAAO,MAAMM,UAAU,GAAIC,UAAD,IAAgB;AACxC,QAAML,OAAO,GAAG;AACdA,IAAAA,OAAO,EAAE;AACPM,MAAAA,IAAI,EAAEnB,YAAY,CAACe,OAAb,CAAqB,OAArB;AADC;AADK,GAAhB;AAMA3B,EAAAA,KAAK,CACFgC,GADH,CACQ,GAAE/B,QAAS,UADnB,EAC8BwB,OAD9B,EAEGhB,IAFH,CAESc,QAAD,IAAcO,UAAU,CAACP,QAAQ,CAACT,IAAT,CAAcI,IAAf,CAFhC,EAGGG,KAHH,CAGUC,KAAD,IAAW;AAChBN,IAAAA,OAAO,CAACC,GAAR,CAAYK,KAAK,CAACC,QAAlB;AACD,GALH;AAMD,CAbM,C,CAeP;;AAEA,OAAO,MAAMU,aAAa,GAAG,CAAC5B,IAAD,EAAOC,KAAP,EAAcC,QAAd,KAA2B;AACtD,QAAMkB,OAAO,GAAG;AACdA,IAAAA,OAAO,EAAE;AACPM,MAAAA,IAAI,EAAEnB,YAAY,CAACe,OAAb,CAAqB,OAArB;AADC;AADK,GAAhB;AAMA3B,EAAAA,KAAK,CACF4B,GADH,CACQ,GAAE3B,QAAS,UADnB,EAC8BI,IAD9B,EACoCoB,OADpC,EAEGhB,IAFH,CAESC,GAAD,IAAS;AACbC,IAAAA,KAAK,CAAC,6BAAD,CAAL;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACI,IAAhB;AACAR,IAAAA,KAAK;AACN,GANH,EAOGe,KAPH,CAOUC,KAAD,IAAW;AAChBX,IAAAA,KAAK,CAAC,iBAAD,CAAL;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYK,KAAK,CAACC,QAAlB;AACD,GAVH;AAWD,CAlBM,C,CAoBP;;AAGA,OAAO,MAAMW,cAAc,GAAIC,cAAD,IAAoB;AAChD,QAAMV,OAAO,GAAG;AACdA,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEd,YAAY,CAACe,OAAb,CAAqB,OAArB;AADC;AADK,GAAhB;AAKA3B,EAAAA,KAAK,CACFgC,GADH,CACQ,GAAE/B,QAAS,cADnB,EACkCwB,OADlC,EAEGhB,IAFH,CAESc,QAAD,IAAcY,cAAc,CAACZ,QAAQ,CAACT,IAAT,CAAcsB,UAAf,CAFpC,EAGE;AAHF,GAIGf,KAJH,CAIUgB,GAAD,IAAS;AACdrB,IAAAA,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACd,QAAhB;AACD,GANH;AAOD,CAbM,C,CAeP;;AAGA,OAAO,MAAMe,mBAAmB,GAAG,CAACC,EAAD,EAAKC,aAAL,KAAuB;AACxD,QAAMf,OAAO,GAAG;AACdA,IAAAA,OAAO,EAAE;AACPM,MAAAA,IAAI,EAAEnB,YAAY,CAACe,OAAb,CAAqB,OAArB;AADC;AADK,GAAhB;AAKA3B,EAAAA,KAAK,CACFgC,GADH,CACQ,GAAE/B,QAAS,gBAAesC,EAAG,EADrC,EACwCd,OADxC,EAEGhB,IAFH,CAESc,QAAD,IAAciB,aAAa,CAACjB,QAAQ,CAACT,IAAT,CAAcsB,UAAf,CAFnC,EAGE;AACA;AACA;AACA;AANF,GAOGf,KAPH,CAOUgB,GAAD,IAAS;AACdrB,IAAAA,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACd,QAAhB;AACD,GATH;AAUD,CAhBM,C,CAkBP;;AAEA,OAAO,MAAMkB,eAAe,GAAIC,SAAD,IAAe;AAC5C,QAAMjB,OAAO,GAAG;AACdA,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAEd,YAAY,CAACe,OAAb,CAAqB,OAArB;AADC;AADK,GAAhB;AAKA3B,EAAAA,KAAK,CACFgC,GADH,CACQ,GAAE/B,QAAS,iBADnB,EACqCwB,OADrC,EAEGhB,IAFH,CAESc,QAAD,IAAcmB,SAAS,CAACnB,QAAQ,CAACT,IAAT,CAAc6B,MAAf,CAF/B,EAGGtB,KAHH,CAGUgB,GAAD,IAAS;AACdrB,IAAAA,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAACd,QAAhB;AACD,GALH;AAMD,CAZM,C,CAeP;;AAEA,OAAO,MAAMqB,SAAS,GAAG,CAACL,EAAD,EAAKlC,IAAL,EAAWE,QAAX,KAAwB;AAC/C,QAAMkB,OAAO,GAAG;AACdA,IAAAA,OAAO,EAAE;AACPM,MAAAA,IAAI,EAAEnB,YAAY,CAACe,OAAb,CAAqB,OAArB;AADC;AADK,GAAhB;AAMA3B,EAAAA,KAAK,CACFQ,IADH,CACS,GAAEP,QAAS,gBAAesC,EAAG,QADtC,EAC+ClC,IAD/C,EACqDoB,OADrD,EAEGhB,IAFH,CAESC,GAAD,IAAS;AACbP,IAAAA,QAAQ;AACRQ,IAAAA,KAAK,CAAC,6BAAD,CAAL;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACI,IAAhB,EAHa,CAIb;AACD,GAPH,EAQGO,KARH,CAQUC,KAAD,IAAW;AAChB;AAEA;AACA;AACA;AACAX,IAAAA,KAAK,CAAC,+GAAD,CAAL;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYK,KAAK,CAACC,QAAlB,EAPgB,CAQhB;AACD,GAjBH;AAkBD,CAzBM","sourcesContent":["import axios from \"axios\";\nimport { BASE_URL } from \"../constants/urls\";\nimport { goToAdress, goToFeed } from \"../router/Coordinator\";\n\n\n\n// *************** AXIOS PARA LOGAR ***************** //\n\nexport const handleLogin = (body, clear, navigate) => {\n  axios\n    .post(`${BASE_URL}/login`, body)\n    .then((res) => {\n      alert(\"ok\");\n      // console.log(res.data);\n      // console.log(res.data.user.name)\n      localStorage.setItem(\"token\", res.data.token);\n      console.log(res.data.token);\n\n      if (res.data.user.hasAddress === false) {\n        alert(\n          `Olá ${res.data.user.name}! Parece que você não possui um endereço associado. Estamos te redirecionando...`\n        );\n        goToAdress(navigate);\n      } else {\n        alert(\"BEM VINDO\");\n        // goToFeed(navigate);\n        goToFeed(navigate);\n      }\n      clear();\n    })\n    .catch((error) => {\n      alert(\"deu erro no login\");\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA ALTERAR ENDEREÇO ***************** //\n\n\nexport const handleAdress = (body, clear, navigate) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\"),\n    }\n  }\n\n  axios\n    .put(`${BASE_URL}/address`, body, headers)\n    .then((res) => {\n      localStorage.setItem(\"token\", res.data.token)\n      console.log(res.data);\n      clear();\n    })\n    .catch((error) => {\n      alert(\"Erro ao modificar endereço\");\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR PERFIL ***************** //\n\n\nexport const getProfile = (setProfile) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\"),\n    }\n  }\n\n  axios\n    .get(`${BASE_URL}/profile`, headers)\n    .then((response) => setProfile(response.data.user))\n    .catch((error) => {\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA ALTERARA PERFIL ***************** //\n\nexport const handleProfile = (body, clear, navigate) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\"),\n    }\n  }\n\n  axios\n    .put(`${BASE_URL}/profile`, body, headers)\n    .then((res) => {\n      alert(\"perfil alterado com sucesso\");\n      console.log(res.data);\n      clear();\n    })\n    .catch((error) => {\n      alert(\"perfil deu erro\");\n      console.log(error.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR RESTAURANTES ***************** //\n\n\nexport const getRestaurants = (setRestaurants) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  }\n  axios\n    .get(`${BASE_URL}/restaurants`, headers)\n    .then((response) => setRestaurants(response.data.restaurant))\n    // console.log(\"Restaurants: \", restaurants);\n    .catch((err) => {\n      console.log(err.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR DETALHES DO RESTAURANTE ***************** //\n\n\nexport const getDetailRestaurant = (id, setRestaurant) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }\n  axios\n    .get(`${BASE_URL}/restaurants/${id}`, headers)\n    .then((response) => setRestaurant(response.data.restaurant))\n    // .then((res) => {\n    //   console.log(res.data.restaurant);\n    //   setRestaurant(res.data.restaurant);\n    // })\n    .catch((err) => {\n      console.log(err.response);\n    })\n}\n\n// *************** AXIOS PARA PEGAR PEDIDOS ***************** //\n\nexport const getOrderHistory = (setOrders) => {\n  const headers = {\n    headers: {\n      Auth: localStorage.getItem(\"token\")\n    }\n  }\n  axios\n    .get(`${BASE_URL}/orders/history`, headers)\n    .then((response) => setOrders(response.data.orders))\n    .catch((err) => {\n      console.log(err.response);\n    })\n}\n\n\n// *************** AXIOS ENVIAR PEDIDO ***************** //\n\nexport const sendOrder = (id, body, navigate) => {\n  const headers = {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }\n\n  axios\n    .post(`${BASE_URL}/restaurants/${id}/order`, body, headers)\n    .then((res) => {\n      goToFeed();\n      alert(\"Pedido enviado com sucesso!\");\n      console.log(res.data);\n      // clear();\n    })\n    .catch((error) => {\n      // {error && error.response && error.response.data && error.response.data.message && alert(error.response.data.message)}\n\n      // if (error.response.data.message === \"Já existe um pedido em andamento\") {\n      //   alert(\"Já existe um pedido em andamento\");\n      // } else {\n      alert(\"Ocorreu um erro ao enviar o pedido, lembramos que não é possível fazer outro pedido enquanto existe um pedido\");\n      console.log(error.response);\n      // }\n    })\n}"]},"metadata":{},"sourceType":"module"}